(this["webpackJsonp@project-serum/stake-ui"]=this["webpackJsonp@project-serum/stake-ui"]||[]).push([[0],{189:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r={active:"#43a047",ready:"#3f51b5",notReady:"#ccc",inactive:"red",deactivating:"rgb(255, 121, 42)"};function a(){return r}},190:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var r=n(7),a=n(40),c=Object(a.rustEnum)([Object(r.struct)([],"create"),Object(r.struct)([],"createBuffer"),Object(r.struct)([],"write"),Object(r.struct)([],"setBuffer"),Object(r.struct)([],"setAuthority")]);function i(t){var n=e.alloc(1e3),r=c.encode(t,n);return e.concat([s,n.slice(0,r)])}var s=e.from("0a69e9a778bcf440","hex").reverse()}).call(this,n(16).Buffer)},229:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return A})),n.d(t,"a",(function(){return E}));var r=n(19),a=n(25),c=n(2),i=n.n(c),s=n(5),o=n(12),u=n(0),l=n(20),d=n(35),b=n(131),p=n(185),m=n.n(p),j=n(237),g=n(92),h=n(76),f=n(130),x=n(103),y=n.n(x),O=n(104),v=n.n(O),w=n(69),S=n(4),k=n(43),K=n(73),C=n(29),M=n(28),P=n(44),T=n(1);function A(e){var t=e.rewards,n=!1;return t.forEach((function(e){null===e&&(n=!0)})),Object(T.jsx)(j.a,{children:n?Object(T.jsx)(b.a,{style:{display:"block",marginLeft:"auto",marginRight:"auto"}}):t.length>0?t.filter((function(e){return!1===e.vendor.account.expired})).map((function(e){return Object(T.jsx)(R,{rli:e})})):Object(T.jsx)(g.a,{children:Object(T.jsx)(h.a,{primary:"No rewards found"})})})}function R(e){var t=e.rli,n=Object(u.useState)(!1),r=Object(o.a)(n,2),a=r[0],c=r[1],i=new Date(1e3*t.vendor.account.startTs.toNumber()).toLocaleString(),s="Dropped by ".concat(t.vendor.account.from.toString()," | ").concat(i);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(g.a,{button:!0,onClick:function(){return c((function(e){return!e}))},children:[Object(T.jsx)(m.a,{style:{visibility:t.reward.locked?"visible":"hidden",marginRight:"16px"}}),Object(T.jsx)(h.a,{primary:Object(T.jsx)("div",{style:{display:"flex",justifyContent:"space-between",color:t.needsClaim?"#54a15e":""},children:Object(T.jsx)("div",{children:"".concat(Object(M.c)(t.vendor.account.total,t.mint.account.decimals)," ").concat(t.mint.publicKey)})}),secondary:s}),a?Object(T.jsx)(y.a,{}):Object(T.jsx)(v.a,{})]}),Object(T.jsx)(f.a,{in:a,timeout:"auto",unmountOnExit:!0,children:void 0===t.vendor?Object(T.jsx)(b.a,{}):Object(T.jsx)(W,{vendor:t.vendor})})]})}function W(t){var n=t.vendor,r=Object(C.b)().registryClient,a=Object(d.b)(),c=a.enqueueSnackbar,b=a.closeSnackbar,p=Object(l.c)((function(e){return{registrar:e.registry.registrar,vendorMint:e.accounts[n.account.mint.toString()]}})),m=p.vendorMint,j=p.registrar,g=Object(u.useState)(null),h=Object(o.a)(g,2),f=h[0],x=h[1],y=function(){var t=Object(s.a)(i.a.mark((function t(){var a,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c("Expiring reward",{variant:"info"}),t.next=3,S.PublicKey.createProgramAddress([j.toBuffer(),n.publicKey.toBuffer(),e.from([n.account.nonce])],r.programId);case 3:return a=t.sent,t.next=6,r.rpc.expireReward({accounts:{registrar:j,vendor:n.publicKey,vault:n.account.vault,vendorSigner:a,expiryReceiver:n.account.expiryReceiver,expiryReceiverToken:f,tokenProgram:k.TokenInstructions.TOKEN_PROGRAM_ID,clock:S.SYSVAR_CLOCK_PUBKEY}});case 6:s=t.sent,b(),c("Reward expired",{variant:"success",action:Object(T.jsx)(P.a,{signature:s})});case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(T.jsxs)("div",{style:{marginLeft:"56px"},children:[Object(T.jsx)("div",{children:"Vendor"}),Object(T.jsxs)("ul",{children:[Object(T.jsxs)("li",{children:["Address ",n.publicKey.toString()]}),Object(T.jsxs)("li",{children:["Vault: ",n.account.vault.toString()]}),Object(T.jsxs)("li",{children:["Mint: ",n.account.mint.toString()]}),Object(T.jsxs)("li",{children:["Pool token supply snapshot:"," ",n.account.poolTokenSupply.toString()]}),Object(T.jsxs)("li",{children:["Expiry:"," ",new Date(1e3*n.account.expiryTs.toNumber()).toLocaleDateString()," (".concat(n.account.expiryTs.toNumber(),")")]}),Object(T.jsxs)("li",{children:["Expiry receiver: ",n.account.expiryReceiver.toString()]}),Object(T.jsxs)("li",{children:["Expired: ",n.account.expired.toString()]}),Object(T.jsxs)("li",{children:["Reward queue cursor: ",n.account.rewardEventQCursor.toString()]})]}),n.account.expiryTs.toNumber()<=Date.now()/1e3&&r.provider.wallet.publicKey.equals(n.account.expiryReceiver)&&Object(T.jsxs)("div",{style:{display:"flex",flexDirection:"row-reverse"},children:[Object(T.jsx)(w.a,{color:"primary",variant:"outlined",onClick:y,style:{marginRight:"24px"},children:"Expire"}),Object(T.jsx)("div",{style:{flex:1,marginRight:"24px"},children:Object(T.jsx)(K.a,{variant:"outlined",decimals:m.decimals,mint:n.account.mint,onChange:function(e){x(e)}})})]})]})}var E=function(){function e(t,n,a,c,i){Object(r.a)(this,e),this.reward=t,this.cursor=n,this.needsClaim=a,this.mint=c,this.vendor=i}return Object(a.a)(e,null,[{key:"fromMessage",value:function(t,n){var r=!1,a=t.accounts[n.vendor.toString()];if(void 0===a)return null;var c={publicKey:a.mint,account:t.accounts[a.mint.toString()]};if(void 0!==t.member){var i=t.accounts[t.member.account.balances.spt.toString()],s=t.accounts[t.member.account.balancesLocked.spt.toString()],o=i.amount+s.amount>0,u=a.rewardEventQCursor>=t.member.account.rewardsCursor,l=t.member.account.lastStakeTs<a.startTs,d=a.expired;r=o&&u&&l&&!d}var b={publicKey:n.vendor,account:a};return new e(n,a.rewardEventQCursor,r,c,b)}}]),e}()}).call(this,n(16).Buffer)},23:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.CommonTriggerBootstrap=0]="CommonTriggerBootstrap",e[e.CommonAppWillBootstrap=1]="CommonAppWillBootstrap",e[e.CommonAppDidBootstrap=2]="CommonAppDidBootstrap",e[e.CommonTriggerShutdown=3]="CommonTriggerShutdown",e[e.CommonDidShutdown=4]="CommonDidShutdown",e[e.CommonWalletDidConnect=5]="CommonWalletDidConnect",e[e.CommonWalletDidDisconnect=6]="CommonWalletDidDisconnect",e[e.CommonWalletSetProvider=7]="CommonWalletSetProvider",e[e.CommonSetNetwork=8]="CommonSetNetwork",e[e.CommonOwnedTokenAccountsSet=9]="CommonOwnedTokenAccountsSet",e[e.CommonOwnedTokenAccountsUpdate=10]="CommonOwnedTokenAccountsUpdate",e[e.CommonWalletReset=11]="CommonWalletReset",e[e.LockupSetVestings=12]="LockupSetVestings",e[e.LockupUpdateVesting=13]="LockupUpdateVesting",e[e.LockupCreateVesting=14]="LockupCreateVesting",e[e.RegistrySetMember=15]="RegistrySetMember",e[e.RegistrySetRegistrar=16]="RegistrySetRegistrar",e[e.RegistrySetPendingWithdrawals=17]="RegistrySetPendingWithdrawals",e[e.RegistryCreatePendingWithdrawal=18]="RegistryCreatePendingWithdrawal",e[e.RegistryUpdatePendingWithdrawal=19]="RegistryUpdatePendingWithdrawal",e[e.AccountAdd=20]="AccountAdd",e[e.AccountUpdate=21]="AccountUpdate"}(r||(r={}))},230:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return ye}));var r=n(24),a=n(22),c=n(2),i=n.n(c),s=n(5),o=n(12),u=n(0),l=n(39),d=n(35),b=n(302),p=n(452),m=n(445),j=n(231),g=n.n(j),h=n(233),f=n.n(h),x=n(236),y=n(232),O=n.n(y),v=n(306),w=n.n(v),S=n(308),k=n.n(S),K=n(307),C=n.n(K),M=n(130),P=n(446),T=n(305),A=n.n(T),R=n(152),W=n(153),E=n(154),I=n(38),L=n(88),B=n(234),D=n.n(B),V=n(322),U=n(131),N=n(34),_=n(117),q=n(103),z=n.n(q),Y=n(104),F=n.n(Y),Q=n(132),G=n(93),J=n(116),X=n(69),H=n(303),Z=n.n(H),$=n(239),ee=n(320),te=n(240),ne=n(238),re=n(319),ae=n(151),ce=n.n(ae),ie=n(237),se=n(155),oe=n(92),ue=n(76),le=n(184),de=n.n(le),be=n(33),pe=n.n(be),me=n(4),je=n(42),ge=n(29),he=n(44),fe=n(190),xe=n(1);function ye(e){var t=e.multisig,n=Object(l.e)(),r=Object(u.useState)(""),a=Object(o.a)(r,2),c=a[0],i=a[1],s=!function(e){try{return new me.PublicKey(e),!0}catch(t){return!1}}(c),d=function(){n.push("/multisig/".concat(c))};return Object(xe.jsxs)("div",{children:[Object(xe.jsxs)("div",{style:{paddingLeft:"16px",paddingRight:"16px",borderBottom:"solid 1pt #ccc",display:"flex"},children:[Object(xe.jsx)("input",{style:{flex:1,background:"none",padding:"16px",border:"none",outlineWidth:0},placeholder:"Multisig address",value:c,onChange:function(e){return i(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&d()}}),Object(xe.jsx)(J.a,{disabled:s,onClick:d,children:Object(xe.jsx)(Z.a,{})}),Object(xe.jsx)(ve,{})]}),Object(xe.jsx)("div",{children:t&&Object(xe.jsx)(Oe,{multisig:t})})]})}function Oe(e){var t=e.multisig,n=Object(ge.b)().multisigClient,r=Object(u.useState)(void 0),a=Object(o.a)(r,2),c=a[0],i=a[1],s=Object(u.useState)(null),l=Object(o.a)(s,2),d=l[0],b=l[1],j=Object(u.useState)(!1),g=Object(o.a)(j,2),h=g[0],f=g[1],y=Object(u.useState)(!1),O=Object(o.a)(y,2),v=O[0],w=O[1],S=Object(u.useState)(!1),k=Object(o.a)(S,2),K=k[0],C=k[1];return Object(u.useEffect)((function(){n.account.multisig(t).then((function(e){i(e)})).catch((function(e){console.error(e),i(null)}))}),[t,n.account]),Object(u.useEffect)((function(){n.account.transaction.all(t.toBuffer()).then((function(e){b(e)}))}),[n.account.transaction,t,K]),Object(u.useEffect)((function(){n.account.multisig.subscribe(t).on("change",(function(e){i(e)}))}),[n,t]),Object(xe.jsxs)(p.a,{fixed:!0,maxWidth:"md",style:{marginBottom:"16px"},children:[Object(xe.jsxs)("div",{children:[Object(xe.jsx)(_.a,{style:{marginTop:"24px"},children:void 0===c?Object(xe.jsx)("div",{style:{padding:"16px"},children:Object(xe.jsx)(U.a,{style:{display:"block",marginLeft:"auto",marginRight:"auto"}})}):null===c?Object(xe.jsx)(Q.a,{children:Object(xe.jsx)(N.a,{color:"textSecondary",style:{padding:"24px",textAlign:"center"},children:"Multisig not found"})}):Object(xe.jsx)(xe.Fragment,{})}),c&&Object(xe.jsxs)(x.a,{children:[Object(xe.jsx)(m.a,{style:{marginTop:"24px"},position:"static",color:"default",elevation:1,children:Object(xe.jsxs)(P.a,{children:[Object(xe.jsxs)(N.a,{variant:"h6",style:{flexGrow:1},component:"h2",children:[t.toString()," | ",c.threshold.toString()," ","of ",c.owners.length.toString()," Multisig"]}),Object(xe.jsx)(V.a,{title:"Signer",arrow:!0,children:Object(xe.jsx)(J.a,{onClick:function(){return f(!0)},children:Object(xe.jsx)(A.a,{})})}),Object(xe.jsx)(V.a,{title:"Add",arrow:!0,children:Object(xe.jsx)(J.a,{onClick:function(){return w(!0)},children:Object(xe.jsx)(ce.a,{})})})]})}),Object(xe.jsx)(ie.a,{disablePadding:!0,children:null===d?Object(xe.jsx)("div",{style:{padding:"16px"},children:Object(xe.jsx)(U.a,{style:{display:"block",marginLeft:"auto",marginRight:"auto"}})}):0===d.length?Object(xe.jsx)(oe.a,{children:Object(xe.jsx)(ue.a,{primary:"No transactions found"})}):d.map((function(e){return Object(xe.jsx)(Se,{multisig:t,multisigAccount:c,tx:e},e.publicKey.toString())}))})]})]}),Object(xe.jsx)(Me,{multisig:t,open:v,onClose:function(){return w(!1)},didAddTransaction:function(){return C(!K)}}),c&&Object(xe.jsx)(Ce,{multisig:t,multisigAccount:c,open:h,onClose:function(){return f(!1)}})]})}function ve(){var e=Object(u.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1];return Object(xe.jsxs)("div",{children:[Object(xe.jsx)(J.a,{onClick:function(){return r(!0)},children:Object(xe.jsx)(ce.a,{})}),Object(xe.jsx)(we,{open:n,onClose:function(){return r(!1)}})]})}function we(e){var t=e.open,n=e.onClose,r=Object(l.e)(),c=Object(ge.b)().multisigClient,b=Object(d.b)().enqueueSnackbar,p=Object(u.useState)(2),m=Object(o.a)(p,2),j=m[0],g=m[1],h=(new me.PublicKey).toString(),f=Object(u.useState)([c.provider.wallet.publicKey.toString(),h]),x=Object(o.a)(f,2),y=x[0],O=x[1],v=function(){n(),g(2),O([h,h])},w=function(){var e=Object(s.a)(i.a.mark((function e(){var t,n,a,s,u,l,d,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b("Creating multisig",{variant:"info"}),t=new me.Account,17,n=2*y.length*32+8,a=17+n,e.next=7,me.PublicKey.findProgramAddress([t.publicKey.toBuffer()],c.programId);case 7:return s=e.sent,u=Object(o.a)(s,2),l=u[1],d=y.map((function(e){return new me.PublicKey(e)})),e.t0=c.rpc,e.t1=d,e.t2=new pe.a(j),e.t3=l,e.t4={multisig:t.publicKey,rent:me.SYSVAR_RENT_PUBKEY},e.t5=[t],e.next=19,c.account.multisig.createInstruction(t,a);case 19:return e.t6=e.sent,e.t7=[e.t6],e.t8={accounts:e.t4,signers:e.t5,instructions:e.t7},e.next=24,e.t0.createMultisig.call(e.t0,e.t1,e.t2,e.t3,e.t8);case 24:p=e.sent,b("Multisig created: ".concat(t.publicKey.toString()),{variant:"success",action:Object(xe.jsx)(he.a,{signature:p})}),v(),r.push("/multisig/".concat(t.publicKey.toString()));case 28:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(xe.jsxs)(te.a,{fullWidth:!0,open:t,onClose:v,maxWidth:"md",children:[Object(xe.jsx)(ne.a,{children:Object(xe.jsx)(N.a,{variant:"h4",component:"h2",children:"New Multisig"})}),Object(xe.jsxs)($.a,{children:[Object(xe.jsx)(G.a,{fullWidth:!0,label:"Threshold",value:j,type:"number",onChange:function(e){return g(parseInt(e.target.value))}}),y.map((function(e,t){return Object(xe.jsx)(G.a,{fullWidth:!0,label:"Participant",value:e,onChange:function(e){var n=Object(a.a)(y);n[t]=e.target.value,O(n)}},e)})),Object(xe.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:Object(xe.jsx)(J.a,{onClick:function(){var e=Object(a.a)(y);e.push((new me.PublicKey).toString()),O(e)},children:Object(xe.jsx)(ce.a,{})})})]}),Object(xe.jsxs)(re.a,{children:[Object(xe.jsx)(X.a,{onClick:v,children:"Cancel"}),Object(xe.jsx)(X.a,{variant:"contained",type:"submit",color:"primary",onClick:function(){return w().catch((function(e){var t=e?e.toString():"";b("Error creating multisig: ".concat(t),{variant:"error"})}))},children:"Create"})]})]})}function Se(e){var t=e.multisig,n=e.multisigAccount,a=e.tx,c=Object(d.b)().enqueueSnackbar,l=Object(ge.b)().multisigClient,p=Object(u.useState)(!1),m=Object(o.a)(p,2),j=m[0],g=m[1],h=Object(u.useState)(a.account),f=Object(o.a)(h,2),x=f[0],y=f[1];Object(u.useEffect)((function(){l.account.transaction.subscribe(a.publicKey).on("change",(function(e){y(e)}))}),[l,t,a.publicKey]);var O=[{field:"Program ID",value:x.programId.toString()},{field:"Did execute",value:x.didExecute.toString()},{field:"Instruction data",value:Object(xe.jsx)("code",{style:{wordBreak:"break-word",width:"370px",background:"black",color:"#ffffff",float:"right",textAlign:"left"},children:Object(b.a)(x.data)})},{field:"Multisig",value:x.multisig.toString()},{field:"Transaction account",value:a.publicKey.toString()},{field:"Owner set seqno",value:x.ownerSetSeqno.toString()}],v=n.owners.map((function(e,t){return{field:e.toString(),value:x.signers[t]?Object(xe.jsx)(w.a,{}):Object(xe.jsx)(C.a,{})}})),S=function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c("Approving transaction",{variant:"info"}),e.next=3,l.rpc.approve({accounts:{multisig:t,transaction:a.publicKey,owner:l.provider.wallet.publicKey}});case 3:c("Transaction approved",{variant:"success"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(s.a)(i.a.mark((function e(){var n,s,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c("Executing transaction",{variant:"info"}),e.next=3,me.PublicKey.findProgramAddress([t.toBuffer()],l.programId);case 3:return n=e.sent,s=Object(o.a)(n,1),u=s[0],e.next=8,l.rpc.executeTransaction({accounts:{multisig:t,multisigSigner:u,transaction:a.publicKey},remainingAccounts:x.accounts.map((function(e){return e.pubkey.equals(u)?Object(r.a)(Object(r.a)({},e),{},{isSigner:!1}):e})).concat({pubkey:x.programId,isWritable:!1,isSigner:!1})});case 8:c("Transaction executed",{variant:"success"});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(xe.jsxs)(xe.Fragment,{children:[Object(xe.jsxs)(oe.a,{button:!0,onClick:function(){return g(!j)},children:[Object(xe.jsx)(se.a,{children:De(a,l)}),ke(a,l),x.didExecute&&Object(xe.jsx)(de.a,{style:{marginRight:"16px"}}),j?Object(xe.jsx)(z.a,{}):Object(xe.jsx)(F.a,{})]}),Object(xe.jsx)(M.a,{in:j,timeout:"auto",unmountOnExit:!0,children:Object(xe.jsxs)("div",{style:{background:"#ececec",padding:"10px"},children:[Object(xe.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end"},children:[Object(xe.jsx)(X.a,{style:{marginRight:"10px"},variant:"contained",color:"primary",onClick:function(){return S().catch((function(e){var t="";e&&(t=e.toString()),c("Unable to approve transaction: ".concat(t),{variant:"error"})}))},children:"Approve"}),Object(xe.jsx)(X.a,{variant:"contained",color:"secondary",onClick:function(){return k().catch((function(e){var t="";e&&(t=e.toString()),c("Unable to execute transaction: ".concat(t),{variant:"error"})}))},children:"Execute"})]}),Object(xe.jsx)(_.a,{style:{marginTop:"16px"},children:Object(xe.jsx)(Q.a,{children:Object(xe.jsxs)(R.a,{children:[Object(xe.jsx)(W.a,{children:Object(xe.jsxs)(L.a,{children:[Object(xe.jsx)(I.a,{children:"Transaction Field"}),Object(xe.jsx)(I.a,{align:"right",children:"Value"})]})}),Object(xe.jsx)(E.a,{children:O.map((function(e){return Object(xe.jsxs)(L.a,{children:[Object(xe.jsx)(I.a,{children:e.field}),Object(xe.jsx)(I.a,{align:"right",children:e.value})]})}))})]})})}),Object(xe.jsx)(_.a,{style:{marginTop:"16px"},children:Object(xe.jsxs)(Q.a,{children:[Object(xe.jsxs)(R.a,{children:[Object(xe.jsx)(W.a,{children:Object(xe.jsxs)(L.a,{children:[Object(xe.jsx)(I.a,{children:"Multisig Owner"}),Object(xe.jsx)(I.a,{align:"right",children:"Did Sign"})]})}),Object(xe.jsx)(E.a,{children:x.ownerSetSeqno===n.ownerSetSeqno&&v.map((function(e){return Object(xe.jsxs)(L.a,{children:[Object(xe.jsx)(I.a,{children:e.field}),Object(xe.jsx)(I.a,{align:"right",children:e.value})]})}))})]}),x.ownerSetSeqno!==n.ownerSetSeqno&&Object(xe.jsx)("div",{style:{marginTop:"16px"},children:Object(xe.jsx)(N.a,{color:"textSecondary",style:{textAlign:"center"},children:"The owner set has changed since this transaction was created"})})]})}),Object(xe.jsx)(_.a,{style:{marginTop:"16px"},children:Object(xe.jsx)(Q.a,{children:Object(xe.jsx)(Ke,{accounts:x.accounts})})})]})})]})}function ke(t,n){if(t.account.programId.equals(Le)&&t.account.data.equals(e.from([3,0,0,0])))return Object(xe.jsx)(ue.a,{primary:"Program upgrade",secondary:t.publicKey.toString()});if(t.account.programId.equals(n.programId)){if(n.coder.sighash("global","change_threshold").equals(t.account.data.slice(0,8)))return Object(xe.jsx)(ue.a,{primary:"Set threshold",secondary:t.publicKey.toString()});if(n.coder.sighash("global","set_owners").equals(t.account.data.slice(0,8)))return Object(xe.jsx)(ue.a,{primary:"Set owners",secondary:t.publicKey.toString()})}return fe.a.equals(t.account.data.slice(0,8))?Object(xe.jsx)(ue.a,{primary:"Upgrade IDL",secondary:t.publicKey.toString()}):Object(xe.jsx)(ue.a,{primary:t.publicKey.toString()})}function Ke(e){var t=e.accounts;return Object(xe.jsxs)(R.a,{children:[Object(xe.jsx)(W.a,{children:Object(xe.jsxs)(L.a,{children:[Object(xe.jsx)(I.a,{children:"Account"}),Object(xe.jsx)(I.a,{align:"right",children:"Writable"}),Object(xe.jsx)(I.a,{align:"right",children:"Signer"})]})}),Object(xe.jsx)(E.a,{children:t.map((function(e){return Object(xe.jsxs)(L.a,{children:[Object(xe.jsx)(I.a,{children:e.pubkey.toString()}),Object(xe.jsx)(I.a,{align:"right",children:e.isWritable.toString()}),Object(xe.jsx)(I.a,{align:"right",children:e.isSigner.toString()})]})}))})]})}function Ce(e){var t=e.multisig,n=e.multisigAccount,r=e.open,a=e.onClose,c=Object(ge.b)().multisigClient,i=Object(u.useState)(null),s=Object(o.a)(i,2),l=s[0],d=s[1];return Object(u.useEffect)((function(){me.PublicKey.findProgramAddress([t.toBuffer()],c.programId).then((function(e){return d(e[0].toString())}))}),[t,c.programId,d]),Object(xe.jsxs)(te.a,{open:r,fullWidth:!0,onClose:a,maxWidth:"md",children:[Object(xe.jsx)(ne.a,{children:Object(xe.jsx)(N.a,{variant:"h4",component:"h2",children:"Multisig Info"})}),Object(xe.jsxs)($.a,{style:{paddingBottom:"16px"},children:[Object(xe.jsxs)(ee.a,{children:[Object(xe.jsx)("b",{children:"Program derived address"}),": ",l,". This is the address one should use as the authority for data governed by the multisig."]}),Object(xe.jsxs)(R.a,{children:[Object(xe.jsx)(W.a,{children:Object(xe.jsx)(L.a,{children:Object(xe.jsx)(I.a,{children:"Owners"})})}),Object(xe.jsx)(E.a,{children:n.owners.map((function(e){return Object(xe.jsx)(L.a,{children:Object(xe.jsx)(I.a,{children:e.toString()})})}))})]})]}),Object(xe.jsx)(re.a,{children:Object(xe.jsx)(X.a,{onClick:a,children:"Close"})})]})}function Me(e){var t=e.multisig,n=e.open,r=e.onClose,a=e.didAddTransaction;return Object(xe.jsxs)(te.a,{open:n,fullWidth:!0,onClose:r,maxWidth:"md",children:[Object(xe.jsx)(ne.a,{children:Object(xe.jsx)(N.a,{variant:"h4",component:"h2",children:"New Transaction"})}),Object(xe.jsxs)($.a,{style:{paddingBottom:"16px"},children:[Object(xe.jsx)(ee.a,{children:"Create a new transaction to be signed by the multisig. This transaction will not execute until enough owners have signed the transaction."}),Object(xe.jsxs)(ie.a,{disablePadding:!0,children:[Object(xe.jsx)(Ie,{didAddTransaction:a,multisig:t,onClose:r}),Object(xe.jsx)(We,{didAddTransaction:a,multisig:t,onClose:r}),Object(xe.jsx)(Ae,{didAddTransaction:a,multisig:t,onClose:r}),Object(xe.jsx)(Pe,{didAddTransaction:a,multisig:t,onClose:r})]})]})]})}function Pe(e){var t=e.multisig,n=e.onClose,r=e.didAddTransaction,a=Object(u.useState)(!1),c=Object(o.a)(a,2),i=c[0],s=c[1];return Object(xe.jsxs)(xe.Fragment,{children:[Object(xe.jsxs)(oe.a,{button:!0,onClick:function(){return s((function(e){return!e}))},children:[Object(xe.jsx)(se.a,{children:Object(xe.jsx)(g.a,{})}),Object(xe.jsx)(ue.a,{primary:"Change threshold"}),i?Object(xe.jsx)(z.a,{}):Object(xe.jsx)(F.a,{})]}),Object(xe.jsx)(M.a,{in:i,timeout:"auto",unmountOnExit:!0,children:Object(xe.jsx)(Te,{didAddTransaction:r,multisig:t,onClose:n})})]})}function Te(e){var t=e.multisig,n=e.onClose,r=e.didAddTransaction,a=Object(u.useState)(2),c=Object(o.a)(a,2),l=c[0],b=c[1],p=Object(ge.b)().multisigClient,m=Object(d.b)().enqueueSnackbar,j=function(){var e=Object(s.a)(i.a.mark((function e(){var a,c,s,u,d,b,j;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m("Creating change threshold transaction",{variant:"info"}),a=Ve(p,l),e.next=4,me.PublicKey.findProgramAddress([t.toBuffer()],p.programId);case 4:return c=e.sent,s=Object(o.a)(c,1),u=s[0],d=[{pubkey:t,isWritable:!0,isSigner:!1},{pubkey:u,isWritable:!1,isSigner:!0}],b=new me.Account,1e3,e.t0=p.rpc,e.t1=p.programId,e.t2=d,e.t3=a,e.t4={multisig:t,transaction:b.publicKey,proposer:p.provider.wallet.publicKey,rent:me.SYSVAR_RENT_PUBKEY},e.t5=[b],e.next=18,p.account.transaction.createInstruction(b,1e3);case 18:return e.t6=e.sent,e.t7=[e.t6],e.t8={accounts:e.t4,signers:e.t5,instructions:e.t7},e.next=23,e.t0.createTransaction.call(e.t0,e.t1,e.t2,e.t3,e.t8);case 23:j=e.sent,m("Transaction created",{variant:"success",action:Object(xe.jsx)(he.a,{signature:j})}),r(b.publicKey),n();case 27:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(xe.jsxs)("div",{style:{background:"#f1f0f0",paddingLeft:"24px",paddingRight:"24px"},children:[Object(xe.jsx)(G.a,{fullWidth:!0,style:{marginTop:"16px"},label:"Threshold",value:l,type:"number",onChange:function(e){b(e.target.value)}}),Object(xe.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:Object(xe.jsx)(X.a,{onClick:function(){return j()},children:"Change Threshold"})})]})}function Ae(e){var t=e.multisig,n=e.onClose,r=e.didAddTransaction,a=Object(u.useState)(!1),c=Object(o.a)(a,2),i=c[0],s=c[1];return Object(xe.jsxs)(xe.Fragment,{children:[Object(xe.jsxs)(oe.a,{button:!0,onClick:function(){return s((function(e){return!e}))},children:[Object(xe.jsx)(se.a,{children:Object(xe.jsx)(O.a,{})}),Object(xe.jsx)(ue.a,{primary:"Set owners"}),i?Object(xe.jsx)(z.a,{}):Object(xe.jsx)(F.a,{})]}),Object(xe.jsx)(M.a,{in:i,timeout:"auto",unmountOnExit:!0,children:Object(xe.jsx)(Re,{didAddTransaction:r,multisig:t,onClose:n})})]})}function Re(e){var t=e.multisig,n=e.onClose,r=e.didAddTransaction,c=Object(ge.b)().multisigClient,l=(new me.PublicKey).toString(),b=Object(u.useState)([c.provider.wallet.publicKey.toString(),l]),p=Object(o.a)(b,2),m=p[0],j=p[1],g=Object(d.b)().enqueueSnackbar,h=function(){var e=Object(s.a)(i.a.mark((function e(){var a,s,u,l,d,b,p,j;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g("Creating setOwners transaction",{variant:"info"}),a=m.map((function(e){return new me.PublicKey(e)})),s=Ue(c,a),e.next=5,me.PublicKey.findProgramAddress([t.toBuffer()],c.programId);case 5:return u=e.sent,l=Object(o.a)(u,1),d=l[0],b=[{pubkey:t,isWritable:!0,isSigner:!1},{pubkey:d,isWritable:!1,isSigner:!0}],p=new me.Account,5e3,e.t0=c.rpc,e.t1=c.programId,e.t2=b,e.t3=s,e.t4={multisig:t,transaction:p.publicKey,proposer:c.provider.wallet.publicKey,rent:me.SYSVAR_RENT_PUBKEY},e.t5=[p],e.next=19,c.account.transaction.createInstruction(p,5e3);case 19:return e.t6=e.sent,e.t7=[e.t6],e.t8={accounts:e.t4,signers:e.t5,instructions:e.t7},e.next=24,e.t0.createTransaction.call(e.t0,e.t1,e.t2,e.t3,e.t8);case 24:j=e.sent,g("Transaction created",{variant:"success",action:Object(xe.jsx)(he.a,{signature:j})}),r(p.publicKey),n();case 28:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(xe.jsxs)("div",{style:{background:"#f1f0f0",paddingLeft:"24px",paddingRight:"24px"},children:[m.map((function(e,t){return Object(xe.jsx)(G.a,{fullWidth:!0,style:{marginTop:"16px"},label:"Participant",value:e,onChange:function(e){var n=Object(a.a)(m);n[t]=e.target.value,j(n)}})})),Object(xe.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:Object(xe.jsx)(J.a,{onClick:function(){var e=Object(a.a)(m);e.push((new me.PublicKey).toString()),j(e)},children:Object(xe.jsx)(ce.a,{})})}),Object(xe.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"16px",paddingBottom:"16px"},children:Object(xe.jsx)(X.a,{onClick:function(){return h()},children:"Set Owners"})})]})}function We(e){var t=e.multisig,n=e.onClose,r=e.didAddTransaction,a=Object(u.useState)(!1),c=Object(o.a)(a,2),i=c[0],s=c[1];return Object(xe.jsxs)(xe.Fragment,{children:[Object(xe.jsxs)(oe.a,{button:!0,onClick:function(){return s((function(e){return!e}))},children:[Object(xe.jsx)(se.a,{children:Object(xe.jsx)(f.a,{})}),Object(xe.jsx)(ue.a,{primary:"Upgrade IDL"}),i?Object(xe.jsx)(z.a,{}):Object(xe.jsx)(F.a,{})]}),Object(xe.jsx)(M.a,{in:i,timeout:"auto",unmountOnExit:!0,children:Object(xe.jsx)(Ee,{didAddTransaction:r,multisig:t,onClose:n})})]})}function Ee(e){var t=e.multisig,n=e.onClose,r=e.didAddTransaction,a=Object(u.useState)(null),c=Object(o.a)(a,2),l=c[0],b=c[1],p=Object(u.useState)(null),m=Object(o.a)(p,2),j=m[0],g=m[1],h=Object(ge.b)().multisigClient,f=Object(d.b)().enqueueSnackbar,x=function(){var e=Object(s.a)(i.a.mark((function e(){var a,c,s,u,d,b,p,m,g,x;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f("Creating transaction",{variant:"info"}),a=new me.PublicKey(l),c=new me.PublicKey(j),e.next=5,je.d.idlAddress(a);case 5:return s=e.sent,e.next=8,me.PublicKey.findProgramAddress([t.toBuffer()],h.programId);case 8:return u=e.sent,d=Object(o.a)(u,1),b=d[0],p=fe.b({setBuffer:{}}),m=[{pubkey:c,isWritable:!0,isSigner:!1},{pubkey:s,isWritable:!0,isSigner:!1},{pubkey:b,isWritable:!0,isSigner:!1}],1e3,g=new me.Account,e.t0=h.rpc,e.t1=a,e.t2=m,e.t3=p,e.t4={multisig:t,transaction:g.publicKey,proposer:h.provider.wallet.publicKey,rent:me.SYSVAR_RENT_PUBKEY},e.t5=[g],e.next=23,h.account.transaction.createInstruction(g,1e3);case 23:return e.t6=e.sent,e.t7=[e.t6],e.t8={accounts:e.t4,signers:e.t5,instructions:e.t7},e.next=28,e.t0.createTransaction.call(e.t0,e.t1,e.t2,e.t3,e.t8);case 28:x=e.sent,f("Transaction created",{variant:"success",action:Object(xe.jsx)(he.a,{signature:x})}),r(g.publicKey),n();case 32:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(xe.jsxs)("div",{style:{background:"#f1f0f0",paddingLeft:"24px",paddingRight:"24px"},children:[Object(xe.jsx)(G.a,{fullWidth:!0,style:{marginTop:"16px"},label:"Program ID",value:l,onChange:function(e){return b(e.target.value)}}),Object(xe.jsx)(G.a,{style:{marginTop:"16px"},fullWidth:!0,label:"New IDL buffer",value:j,onChange:function(e){return g(e.target.value)}}),Object(xe.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"16px",paddingBottom:"16px"},children:Object(xe.jsx)(X.a,{onClick:function(){return x()},children:"Create upgrade"})})]})}function Ie(e){var t=e.multisig,n=e.onClose,r=e.didAddTransaction,a=Object(u.useState)(!1),c=Object(o.a)(a,2),i=c[0],s=c[1];return Object(xe.jsxs)(xe.Fragment,{children:[Object(xe.jsxs)(oe.a,{button:!0,onClick:function(){return s((function(e){return!e}))},children:[Object(xe.jsx)(se.a,{children:Object(xe.jsx)(D.a,{})}),Object(xe.jsx)(ue.a,{primary:"Upgrade program"}),i?Object(xe.jsx)(z.a,{}):Object(xe.jsx)(F.a,{})]}),Object(xe.jsx)(M.a,{in:i,timeout:"auto",unmountOnExit:!0,children:Object(xe.jsx)(Be,{didAddTransaction:r,multisig:t,onClose:n})})]})}var Le=new me.PublicKey("BPFLoaderUpgradeab1e11111111111111111111111");function Be(t){var n=t.multisig,r=t.onClose,a=t.didAddTransaction,c=Object(u.useState)(null),l=Object(o.a)(c,2),b=l[0],p=l[1],m=Object(u.useState)(null),j=Object(o.a)(m,2),g=j[0],h=j[1],f=Object(ge.b)().multisigClient,x=Object(d.b)().enqueueSnackbar,y=function(){var t=Object(s.a)(i.a.mark((function t(){var c,u,l,d,p,m,j,h,y,O,v;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x("Creating transaction",{variant:"info"}),c=new me.PublicKey(b),u=new me.PublicKey(g),l=e.from([3,0,0,0]),t.next=6,Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.provider.connection.getAccountInfo(c);case 2:if(null!==(t=e.sent)){e.next=5;break}throw new Error("Invalid program ID");case 5:return e.abrupt("return",{programdataAddress:new me.PublicKey(t.data.slice(4))});case 6:case"end":return e.stop()}}),e)})))();case 6:return d=t.sent,p=f.provider.wallet.publicKey,t.next=10,me.PublicKey.findProgramAddress([n.toBuffer()],f.programId);case 10:return m=t.sent,j=Object(o.a)(m,1),h=j[0],y=[{pubkey:d.programdataAddress,isWritable:!0,isSigner:!1},{pubkey:c,isWritable:!0,isSigner:!1},{pubkey:u,isWritable:!0,isSigner:!1},{pubkey:p,isWritable:!0,isSigner:!1},{pubkey:me.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1},{pubkey:me.SYSVAR_CLOCK_PUBKEY,isWritable:!1,isSigner:!1},{pubkey:h,isWritable:!1,isSigner:!1}],1e3,O=new me.Account,t.t0=f.rpc,t.t1=Le,t.t2=y,t.t3=l,t.t4={multisig:n,transaction:O.publicKey,proposer:f.provider.wallet.publicKey,rent:me.SYSVAR_RENT_PUBKEY},t.t5=[O],t.next=24,f.account.transaction.createInstruction(O,1e3);case 24:return t.t6=t.sent,t.t7=[t.t6],t.t8={accounts:t.t4,signers:t.t5,instructions:t.t7},t.next=29,t.t0.createTransaction.call(t.t0,t.t1,t.t2,t.t3,t.t8);case 29:v=t.sent,x("Transaction created",{variant:"success",action:Object(xe.jsx)(he.a,{signature:v})}),a(O.publicKey),r();case 33:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(xe.jsxs)("div",{style:{background:"#f1f0f0",paddingLeft:"24px",paddingRight:"24px"},children:[Object(xe.jsx)(G.a,{fullWidth:!0,style:{marginTop:"16px"},label:"Program ID",value:b,onChange:function(e){return p(e.target.value)}}),Object(xe.jsx)(G.a,{style:{marginTop:"16px"},fullWidth:!0,label:"New program buffer",value:g,onChange:function(e){return h(e.target.value)}}),Object(xe.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"16px",paddingBottom:"16px"},children:Object(xe.jsx)(X.a,{onClick:function(){return y()},children:"Create upgrade"})})]})}function De(e,t){if(e.account.programId.equals(Le))return Object(xe.jsx)(D.a,{});if(e.account.programId.equals(t.programId)){if(t.coder.sighash("global","change_threshold").equals(e.account.data.slice(0,8)))return Object(xe.jsx)(g.a,{});if(t.coder.sighash("global","set_owners").equals(e.account.data.slice(0,8)))return Object(xe.jsx)(O.a,{})}return fe.a.equals(e.account.data.slice(0,8))?Object(xe.jsx)(f.a,{}):Object(xe.jsx)(k.a,{})}function Ve(e,t){return e.coder.instruction.encode("change_threshold",{threshold:new pe.a(t)})}function Ue(e,t){return e.coder.instruction.encode("set_owners",{owners:t})}}).call(this,n(16).Buffer)},28:function(e,t,n){"use strict";n.d(t,"e",(function(){return b})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return g}));var r=n(12),a=n(0),c=n.n(a),i=n(33),s=n.n(i),o=n(312),u=n(78),l=n(1),d=c.a.createContext({tokenMap:new Map});function b(){return Object(a.useContext)(d).tokenMap}function p(e){var t=Object(a.useState)(new Map),n=Object(r.a)(t,2),c=n[0],i=n[1];return Object(a.useEffect)((function(){(new o.a).resolve().then((function(e){var t=e.filterByClusterSlug("mainnet-beta").getList();i(t.reduce((function(e,t){return e.set(t.address,t),e}),new Map))}))}),[i]),Object(l.jsx)(d.Provider,{value:{tokenMap:c},children:e.children})}function m(e,t){return new s.a(e*Math.pow(10,t))}function j(e,t){return e instanceof s.a&&(e=e.toNumber()),(e/Math.pow(10,t)).toString()}function g(e){var t=Object.keys(u.a.mainnet.mints).filter((function(t){return u.a.mainnet.mints[t].equals(e)})).pop();return t?t.toUpperCase():e.toString()}},29:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return g}));var r=n(0),a=n.n(r),c=n(20),i=n(4),s=n(283),o=n(41),u=n(42),l={version:"0.0.0",name:"lockup",instructions:[{name:"createVesting",accounts:[{name:"vesting",isMut:!0,isSigner:!1},{name:"vault",isMut:!0,isSigner:!1},{name:"depositor",isMut:!0,isSigner:!1},{name:"depositorAuthority",isMut:!1,isSigner:!0},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1}],args:[{name:"beneficiary",type:"publicKey"},{name:"depositAmount",type:"u64"},{name:"nonce",type:"u8"},{name:"startTs",type:"i64"},{name:"endTs",type:"i64"},{name:"periodCount",type:"u64"},{name:"realizor",type:{option:{defined:"Realizor"}}}]},{name:"withdraw",accounts:[{name:"vesting",isMut:!0,isSigner:!1},{name:"beneficiary",isMut:!1,isSigner:!0},{name:"vault",isMut:!0,isSigner:!1},{name:"vestingSigner",isMut:!1,isSigner:!1},{name:"token",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"whitelistWithdraw",accounts:[{name:"transfer",accounts:[{name:"lockup",isMut:!1,isSigner:!1},{name:"beneficiary",isMut:!1,isSigner:!0},{name:"whitelistedProgram",isMut:!1,isSigner:!1},{name:"vesting",isMut:!0,isSigner:!1},{name:"vault",isMut:!0,isSigner:!1},{name:"vestingSigner",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"whitelistedProgramVault",isMut:!0,isSigner:!1},{name:"whitelistedProgramVaultAuthority",isMut:!1,isSigner:!1}]}],args:[{name:"instructionData",type:"bytes"},{name:"amount",type:"u64"}]},{name:"whitelistDeposit",accounts:[{name:"transfer",accounts:[{name:"lockup",isMut:!1,isSigner:!1},{name:"beneficiary",isMut:!1,isSigner:!0},{name:"whitelistedProgram",isMut:!1,isSigner:!1},{name:"vesting",isMut:!0,isSigner:!1},{name:"vault",isMut:!0,isSigner:!1},{name:"vestingSigner",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"whitelistedProgramVault",isMut:!0,isSigner:!1},{name:"whitelistedProgramVaultAuthority",isMut:!1,isSigner:!1}]}],args:[{name:"instructionData",type:"bytes"}]},{name:"availableForWithdrawal",accounts:[{name:"vesting",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1}],args:[]}],state:{struct:{name:"Lockup",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"whitelist",type:{vec:{defined:"WhitelistEntry"}}}]}},methods:[{name:"new",accounts:[{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"whitelistAdd",accounts:[{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"entry",type:{defined:"WhitelistEntry"}}]},{name:"whitelistDelete",accounts:[{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"entry",type:{defined:"WhitelistEntry"}}]},{name:"setAuthority",accounts:[{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"newAuthority",type:"publicKey"}]}]},accounts:[{name:"Vesting",type:{kind:"struct",fields:[{name:"beneficiary",type:"publicKey"},{name:"mint",type:"publicKey"},{name:"vault",type:"publicKey"},{name:"grantor",type:"publicKey"},{name:"outstanding",type:"u64"},{name:"startBalance",type:"u64"},{name:"createdTs",type:"i64"},{name:"startTs",type:"i64"},{name:"endTs",type:"i64"},{name:"periodCount",type:"u64"},{name:"whitelistOwned",type:"u64"},{name:"nonce",type:"u8"},{name:"realizor",type:{option:{defined:"Realizor"}}}]}}],types:[{name:"Realizor",type:{kind:"struct",fields:[{name:"program",type:"publicKey"},{name:"metadata",type:"publicKey"}]}},{name:"WhitelistEntry",type:{kind:"struct",fields:[{name:"programId",type:"publicKey"}]}}],errors:[{code:100,name:"InvalidTimestamp",msg:"Vesting end must be greater than the current unix timestamp."},{code:101,name:"InvalidPeriod",msg:"The number of vesting periods must be greater than zero."},{code:102,name:"InvalidDepositAmount",msg:"The vesting deposit amount must be greater than zero."},{code:103,name:"InvalidWhitelistEntry",msg:"The Whitelist entry is not a valid program address."},{code:104,name:"InvalidProgramAddress",msg:"Invalid program address. Did you provide the correct nonce?"},{code:105,name:"InvalidVaultOwner",msg:"Invalid vault owner."},{code:106,name:"InvalidVaultAmount",msg:"Vault amount must be zero."},{code:107,name:"InsufficientWithdrawalBalance",msg:"Insufficient withdrawal balance."},{code:108,name:"WhitelistFull",msg:"Whitelist is full"},{code:109,name:"WhitelistEntryAlreadyExists",msg:"Whitelist entry already exists"},{code:110,name:"InsufficientWhitelistDepositAmount",msg:"Balance must go up when performing a whitelist deposit"},{code:111,name:"WhitelistDepositOverflow",msg:"Cannot deposit more than withdrawn"},{code:112,name:"WhitelistWithdrawLimit",msg:"Tried to withdraw over the specified limit"},{code:113,name:"WhitelistEntryNotFound",msg:"Whitelist entry not found."},{code:114,name:"Unauthorized",msg:"You do not have sufficient permissions to perform this action."},{code:115,name:"UnableToWithdrawWhileStaked",msg:"You are unable to realize projected rewards until unstaking."},{code:116,name:"InvalidLockRealizor",msg:"The given lock realizor doesn't match the vesting account."},{code:117,name:"UnrealizedVesting",msg:"You have not realized this vesting account."},{code:118,name:"InvalidSchedule",msg:"Invalid vesting schedule given."}]},d={version:"0.0.0",name:"registry",instructions:[{name:"initialize",accounts:[{name:"registrar",isMut:!0,isSigner:!1},{name:"rewardEventQ",isMut:!0,isSigner:!1},{name:"poolMint",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"mint",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"nonce",type:"u8"},{name:"withdrawalTimelock",type:"i64"},{name:"stakeRate",type:"u64"},{name:"rewardQLen",type:"u32"}]},{name:"updateRegistrar",accounts:[{name:"registrar",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"newAuthority",type:{option:"publicKey"}},{name:"withdrawalTimelock",type:{option:"i64"}}]},{name:"createMember",accounts:[{name:"registrar",isMut:!1,isSigner:!1},{name:"member",isMut:!0,isSigner:!1},{name:"beneficiary",isMut:!1,isSigner:!0},{name:"balances",accounts:[{name:"spt",isMut:!0,isSigner:!1},{name:"vault",isMut:!0,isSigner:!1},{name:"vaultStake",isMut:!0,isSigner:!1},{name:"vaultPw",isMut:!0,isSigner:!1}]},{name:"balancesLocked",accounts:[{name:"spt",isMut:!0,isSigner:!1},{name:"vault",isMut:!0,isSigner:!1},{name:"vaultStake",isMut:!0,isSigner:!1},{name:"vaultPw",isMut:!0,isSigner:!1}]},{name:"memberSigner",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"nonce",type:"u8"}]},{name:"updateMember",accounts:[{name:"member",isMut:!0,isSigner:!1},{name:"beneficiary",isMut:!1,isSigner:!0}],args:[{name:"metadata",type:{option:"publicKey"}}]},{name:"deposit",accounts:[{name:"member",isMut:!1,isSigner:!1},{name:"beneficiary",isMut:!1,isSigner:!0},{name:"vault",isMut:!0,isSigner:!1},{name:"depositor",isMut:!0,isSigner:!1},{name:"depositorAuthority",isMut:!1,isSigner:!0},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"depositLocked",accounts:[{name:"vesting",isMut:!1,isSigner:!1},{name:"vestingVault",isMut:!0,isSigner:!1},{name:"depositorAuthority",isMut:!1,isSigner:!0},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"memberVault",isMut:!0,isSigner:!1},{name:"memberSigner",isMut:!1,isSigner:!1},{name:"registry",isMut:!1,isSigner:!1},{name:"registrar",isMut:!1,isSigner:!1},{name:"member",isMut:!1,isSigner:!1},{name:"beneficiary",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"stake",accounts:[{name:"registrar",isMut:!1,isSigner:!1},{name:"rewardEventQ",isMut:!1,isSigner:!1},{name:"poolMint",isMut:!0,isSigner:!1},{name:"member",isMut:!0,isSigner:!1},{name:"beneficiary",isMut:!1,isSigner:!0},{name:"balances",accounts:[{name:"spt",isMut:!0,isSigner:!1},{name:"vault",isMut:!0,isSigner:!1},{name:"vaultStake",isMut:!0,isSigner:!1},{name:"vaultPw",isMut:!0,isSigner:!1}]},{name:"balancesLocked",accounts:[{name:"spt",isMut:!0,isSigner:!1},{name:"vault",isMut:!0,isSigner:!1},{name:"vaultStake",isMut:!0,isSigner:!1},{name:"vaultPw",isMut:!0,isSigner:!1}]},{name:"memberSigner",isMut:!1,isSigner:!1},{name:"registrarSigner",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"sptAmount",type:"u64"},{name:"locked",type:"bool"}]},{name:"startUnstake",accounts:[{name:"registrar",isMut:!1,isSigner:!1},{name:"rewardEventQ",isMut:!1,isSigner:!1},{name:"poolMint",isMut:!0,isSigner:!1},{name:"pendingWithdrawal",isMut:!0,isSigner:!1},{name:"member",isMut:!1,isSigner:!1},{name:"beneficiary",isMut:!1,isSigner:!0},{name:"balances",accounts:[{name:"spt",isMut:!0,isSigner:!1},{name:"vault",isMut:!0,isSigner:!1},{name:"vaultStake",isMut:!0,isSigner:!1},{name:"vaultPw",isMut:!0,isSigner:!1}]},{name:"balancesLocked",accounts:[{name:"spt",isMut:!0,isSigner:!1},{name:"vault",isMut:!0,isSigner:!1},{name:"vaultStake",isMut:!0,isSigner:!1},{name:"vaultPw",isMut:!0,isSigner:!1}]},{name:"memberSigner",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"sptAmount",type:"u64"},{name:"locked",type:"bool"}]},{name:"endUnstake",accounts:[{name:"registrar",isMut:!1,isSigner:!1},{name:"member",isMut:!1,isSigner:!1},{name:"beneficiary",isMut:!1,isSigner:!0},{name:"pendingWithdrawal",isMut:!0,isSigner:!1},{name:"vault",isMut:!0,isSigner:!1},{name:"vaultPw",isMut:!0,isSigner:!1},{name:"memberSigner",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"withdraw",accounts:[{name:"registrar",isMut:!1,isSigner:!1},{name:"member",isMut:!1,isSigner:!1},{name:"beneficiary",isMut:!1,isSigner:!0},{name:"vault",isMut:!0,isSigner:!1},{name:"memberSigner",isMut:!1,isSigner:!1},{name:"depositor",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"withdrawLocked",accounts:[{name:"vesting",isMut:!1,isSigner:!1},{name:"vestingVault",isMut:!0,isSigner:!1},{name:"vestingSigner",isMut:!1,isSigner:!0},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"memberVault",isMut:!0,isSigner:!1},{name:"memberSigner",isMut:!1,isSigner:!1},{name:"registry",isMut:!1,isSigner:!1},{name:"registrar",isMut:!1,isSigner:!1},{name:"member",isMut:!1,isSigner:!1},{name:"beneficiary",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"dropReward",accounts:[{name:"registrar",isMut:!1,isSigner:!1},{name:"rewardEventQ",isMut:!0,isSigner:!1},{name:"poolMint",isMut:!1,isSigner:!1},{name:"vendor",isMut:!0,isSigner:!1},{name:"vendorVault",isMut:!0,isSigner:!1},{name:"depositor",isMut:!0,isSigner:!1},{name:"depositorAuthority",isMut:!1,isSigner:!0},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"kind",type:{defined:"RewardVendorKind"}},{name:"total",type:"u64"},{name:"expiryTs",type:"i64"},{name:"expiryReceiver",type:"publicKey"},{name:"nonce",type:"u8"}]},{name:"claimReward",accounts:[{name:"cmn",accounts:[{name:"registrar",isMut:!1,isSigner:!1},{name:"member",isMut:!0,isSigner:!1},{name:"beneficiary",isMut:!1,isSigner:!0},{name:"balances",accounts:[{name:"spt",isMut:!0,isSigner:!1},{name:"vault",isMut:!0,isSigner:!1},{name:"vaultStake",isMut:!0,isSigner:!1},{name:"vaultPw",isMut:!0,isSigner:!1}]},{name:"balancesLocked",accounts:[{name:"spt",isMut:!0,isSigner:!1},{name:"vault",isMut:!0,isSigner:!1},{name:"vaultStake",isMut:!0,isSigner:!1},{name:"vaultPw",isMut:!0,isSigner:!1}]},{name:"vendor",isMut:!1,isSigner:!1},{name:"vault",isMut:!0,isSigner:!1},{name:"vendorSigner",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1}]},{name:"to",isMut:!0,isSigner:!1}],args:[]},{name:"claimRewardLocked",accounts:[{name:"cmn",accounts:[{name:"registrar",isMut:!1,isSigner:!1},{name:"member",isMut:!0,isSigner:!1},{name:"beneficiary",isMut:!1,isSigner:!0},{name:"balances",accounts:[{name:"spt",isMut:!0,isSigner:!1},{name:"vault",isMut:!0,isSigner:!1},{name:"vaultStake",isMut:!0,isSigner:!1},{name:"vaultPw",isMut:!0,isSigner:!1}]},{name:"balancesLocked",accounts:[{name:"spt",isMut:!0,isSigner:!1},{name:"vault",isMut:!0,isSigner:!1},{name:"vaultStake",isMut:!0,isSigner:!1},{name:"vaultPw",isMut:!0,isSigner:!1}]},{name:"vendor",isMut:!1,isSigner:!1},{name:"vault",isMut:!0,isSigner:!1},{name:"vendorSigner",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1}]},{name:"registry",isMut:!1,isSigner:!1},{name:"lockupProgram",isMut:!1,isSigner:!1}],args:[{name:"nonce",type:"u8"}]},{name:"expireReward",accounts:[{name:"registrar",isMut:!1,isSigner:!1},{name:"vendor",isMut:!0,isSigner:!1},{name:"vault",isMut:!0,isSigner:!1},{name:"vendorSigner",isMut:!1,isSigner:!1},{name:"expiryReceiver",isMut:!1,isSigner:!0},{name:"expiryReceiverToken",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1}],args:[]}],state:{struct:{name:"Registry",type:{kind:"struct",fields:[{name:"lockupProgram",type:"publicKey"}]}},methods:[{name:"new",accounts:[{name:"lockupProgram",isMut:!1,isSigner:!1}],args:[]},{name:"setLockupProgram",accounts:[{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"lockupProgram",type:"publicKey"}]}]},accounts:[{name:"Registrar",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"nonce",type:"u8"},{name:"withdrawalTimelock",type:"i64"},{name:"rewardEventQ",type:"publicKey"},{name:"mint",type:"publicKey"},{name:"poolMint",type:"publicKey"},{name:"stakeRate",type:"u64"}]}},{name:"Member",type:{kind:"struct",fields:[{name:"registrar",type:"publicKey"},{name:"beneficiary",type:"publicKey"},{name:"metadata",type:"publicKey"},{name:"balances",type:{defined:"BalanceSandbox"}},{name:"balancesLocked",type:{defined:"BalanceSandbox"}},{name:"rewardsCursor",type:"u32"},{name:"lastStakeTs",type:"i64"},{name:"nonce",type:"u8"}]}},{name:"PendingWithdrawal",type:{kind:"struct",fields:[{name:"registrar",type:"publicKey"},{name:"member",type:"publicKey"},{name:"burned",type:"bool"},{name:"pool",type:"publicKey"},{name:"startTs",type:"i64"},{name:"endTs",type:"i64"},{name:"amount",type:"u64"},{name:"locked",type:"bool"}]}},{name:"RewardQueue",type:{kind:"struct",fields:[{name:"head",type:"u32"},{name:"tail",type:"u32"},{name:"events",type:{vec:{defined:"RewardEvent"}}}]}},{name:"RewardVendor",type:{kind:"struct",fields:[{name:"registrar",type:"publicKey"},{name:"vault",type:"publicKey"},{name:"mint",type:"publicKey"},{name:"nonce",type:"u8"},{name:"poolTokenSupply",type:"u64"},{name:"rewardEventQCursor",type:"u32"},{name:"startTs",type:"i64"},{name:"expiryTs",type:"i64"},{name:"expiryReceiver",type:"publicKey"},{name:"from",type:"publicKey"},{name:"total",type:"u64"},{name:"expired",type:"bool"},{name:"kind",type:{defined:"RewardVendorKind"}}]}}],types:[{name:"BalanceSandbox",type:{kind:"struct",fields:[{name:"spt",type:"publicKey"},{name:"vault",type:"publicKey"},{name:"vaultStake",type:"publicKey"},{name:"vaultPw",type:"publicKey"}]}},{name:"RewardEvent",type:{kind:"struct",fields:[{name:"vendor",type:"publicKey"},{name:"ts",type:"i64"},{name:"locked",type:"bool"}]}},{name:"RewardVendorKind",type:{kind:"enum",variants:[{name:"Unlocked"},{name:"Locked",fields:[{name:"start_ts",type:"i64"},{name:"end_ts",type:"i64"},{name:"period_count",type:"u64"}]}]}}],errors:[{code:100,name:"RewardQAlreadyInitialized",msg:"The given reward queue has already been initialized."},{code:101,name:"InvalidNonce",msg:"The nonce given doesn't derive a valid program address."},{code:102,name:"InvalidPoolMintAuthority",msg:"Invalid pool mint authority"},{code:103,name:"InvalidMemberSigner",msg:"Member signer doesn't match the derived address."},{code:104,name:"InvalidVaultDeposit",msg:"The given vault owner must match the signing depositor."},{code:105,name:"InvalidDepositor",msg:"The signing depositor doesn't match either of the balance accounts"},{code:106,name:"InvalidVault",msg:"The vault given does not match the vault expected."},{code:107,name:"InvalidVaultOwner",msg:"Invalid vault owner."},{code:108,name:"Unknown",msg:"An unknown error has occured."},{code:109,name:"UnstakeTimelock",msg:"The unstake timelock has not yet expired."},{code:110,name:"InsufficientReward",msg:"Reward vendors must have at least one token unit per pool token"},{code:111,name:"InvalidExpiry",msg:"Reward expiry must be after the current clock timestamp."},{code:112,name:"VendorExpired",msg:"The reward vendor has been expired."},{code:113,name:"CursorAlreadyProcessed",msg:"This reward has already been processed."},{code:114,name:"NotStakedDuringDrop",msg:"The account was not staked at the time of this reward."},{code:115,name:"VendorNotYetExpired",msg:"The vendor is not yet eligible for expiry."},{code:116,name:"RewardsNeedsProcessing",msg:"Please collect your reward before otherwise using the program."},{code:117,name:"ExpectedLockedVendor",msg:"Locked reward vendor expected but an unlocked vendor was given."},{code:118,name:"ExpectedUnlockedVendor",msg:"Unlocked reward vendor expected but a locked vendor was given."},{code:119,name:"InvalidVestingSigner",msg:"Locked deposit from an invalid deposit authority."},{code:120,name:"UnrealizedReward",msg:"Locked rewards cannot be realized until one unstaked all tokens."},{code:121,name:"InvalidBeneficiary",msg:"The beneficiary doesn't match."},{code:122,name:"InvalidRealizorMetadata",msg:"The given member account does not match the realizor metadata."},{code:123,name:"InvalidVestingSchedule",msg:"Invalid vesting schedule for the locked reward."},{code:124,name:"InvalidProgramAuthority",msg:"Please specify the correct authority for this program."}]},b={version:"0.0.0",name:"multisig",instructions:[{name:"createMultisig",accounts:[{name:"multisig",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"owners",type:{vec:"publicKey"}},{name:"threshold",type:"u64"},{name:"nonce",type:"u8"}]},{name:"createTransaction",accounts:[{name:"multisig",isMut:!1,isSigner:!1},{name:"transaction",isMut:!0,isSigner:!1},{name:"proposer",isMut:!1,isSigner:!0},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"pid",type:"publicKey"},{name:"accs",type:{vec:{defined:"TransactionAccount"}}},{name:"data",type:"bytes"}]},{name:"approve",accounts:[{name:"multisig",isMut:!1,isSigner:!1},{name:"transaction",isMut:!0,isSigner:!1},{name:"owner",isMut:!1,isSigner:!0}],args:[]},{name:"setOwners",accounts:[{name:"multisig",isMut:!0,isSigner:!1},{name:"multisigSigner",isMut:!1,isSigner:!0}],args:[{name:"owners",type:{vec:"publicKey"}}]},{name:"changeThreshold",accounts:[{name:"multisig",isMut:!0,isSigner:!1},{name:"multisigSigner",isMut:!1,isSigner:!0}],args:[{name:"threshold",type:"u64"}]},{name:"executeTransaction",accounts:[{name:"multisig",isMut:!1,isSigner:!1},{name:"multisigSigner",isMut:!1,isSigner:!1},{name:"transaction",isMut:!0,isSigner:!1}],args:[]}],accounts:[{name:"Multisig",type:{kind:"struct",fields:[{name:"owners",type:{vec:"publicKey"}},{name:"threshold",type:"u64"},{name:"nonce",type:"u8"},{name:"ownerSetSeqno",type:"u32"}]}},{name:"Transaction",type:{kind:"struct",fields:[{name:"multisig",type:"publicKey"},{name:"programId",type:"publicKey"},{name:"accounts",type:{vec:{defined:"TransactionAccount"}}},{name:"data",type:"bytes"},{name:"signers",type:{vec:"bool"}},{name:"didExecute",type:"bool"},{name:"ownerSetSeqno",type:"u32"}]}}],types:[{name:"TransactionAccount",type:{kind:"struct",fields:[{name:"pubkey",type:"publicKey"},{name:"isSigner",type:"bool"},{name:"isWritable",type:"bool"}]}}],errors:[{code:100,name:"InvalidOwner",msg:"The given owner is not part of this multisig."},{code:101,name:"NotEnoughSigners",msg:"Not enough owners signed this transaction."},{code:102,name:"TransactionAlreadySigned",msg:"Cannot delete a transaction that has been signed by an owner."},{code:103,name:"Overflow",msg:"Overflow when adding."},{code:104,name:"UnableToDelete",msg:"Cannot delete a transaction the owner did not create."},{code:105,name:"AlreadyExecuted",msg:"The given transaction has already been executed."},{code:106,name:"InvalidThreshold",msg:"Threshold must be less than or equal to the number of owners."}]},p=n(1);function m(){var e=Object(r.useContext)(j);if(!e)throw new Error("Missing wallet context");return e}var j=a.a.createContext(null);function g(e){var t=Object(c.c)((function(e){return{walletProvider:e.common.walletProvider,network:e.common.network}})),n=t.walletProvider,a=t.network,m=Object(r.useMemo)((function(){var e={preflightCommitment:"recent",commitment:"recent"},t=new i.Connection(a.url,e.preflightCommitment),r=new s.a(n,a.url),c=new o.Provider(t,r,e);return{wallet:r,lockupClient:new u.b(l,a.lockupProgramId,c),registryClient:new u.b(d,a.registryProgramId,c),multisigClient:new u.b(b,a.multisigProgramId,c)}}),[n,a]),g=m.wallet,h=m.lockupClient,f=m.registryClient,x=m.multisigClient;return Object(p.jsx)(j.Provider,{value:{wallet:g,lockupClient:h,registryClient:f,multisigClient:x},children:e.children})}},294:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return N}));var r=n(24),a=n(12),c=n(2),i=n.n(c),s=n(5),o=n(0),u=n(20),l=n(33),d=n.n(l),b=n(35),p=n(4),m=n(152),j=n(153),g=n(154),h=n(38),f=n(88),x=n(131),y=n(451),O=n(454),v=n(69),w=n(93),S=n(116),k=n(184),K=n.n(k),C=n(117),M=n(132),P=n(449),T=n(318),A=n(34),R=n(126),W=n(43),E=n(29),I=n(44),L=n(23),B=n(189),D=n(28),V=n(49),U=n(1);function N(){var e=Object(E.b)().registryClient,t=Object(u.b)(),n=Object(u.c)((function(e){var t=e.accounts[e.registry.registrar.toString()];return{member:e.registry.member,memberAccount:e.registry.member?e.accounts[e.registry.member.toString()]:void 0,registrarAccount:t,registrar:e.registry.registrar}})),r=n.member,a=n.memberAccount,c=n.registrarAccount,o=n.registrar,l=Object(b.b)(),d=l.enqueueSnackbar,m=l.closeSnackbar,j=function(){var t=Object(s.a)(i.a.mark((function t(n,s){var u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d("Staking ".concat(Object(D.d)(c.poolMint)," Pool tokens"),{variant:"info"}),t.t0=e.rpc,t.t1=new R.u64(n),t.t2=s,t.t3=o,t.t4=c.rewardEventQ,t.t5=c.poolMint,t.t6=r,t.t7=e.provider.wallet.publicKey,t.t8=a.balances,t.t9=a.balancesLocked,t.next=13,Object(V.c)(e.programId,o,r);case 13:return t.t10=t.sent.publicKey,t.next=16,Object(V.d)(e.programId,o);case 16:return t.t11=t.sent.publicKey,t.t12=p.SYSVAR_CLOCK_PUBKEY,t.t13=W.TokenInstructions.TOKEN_PROGRAM_ID,t.t14={registrar:t.t3,rewardEventQ:t.t4,poolMint:t.t5,member:t.t6,beneficiary:t.t7,balances:t.t8,balancesLocked:t.t9,memberSigner:t.t10,registrarSigner:t.t11,clock:t.t12,tokenProgram:t.t13},t.t15={accounts:t.t14},t.next=23,t.t0.stake.call(t.t0,t.t1,t.t2,t.t15);case 23:u=t.sent,m(),d("Staking complete",{variant:"success",action:Object(U.jsx)(I.a,{signature:u})});case 26:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),g=function(){var n=Object(s.a)(i.a.mark((function n(s,u){var l,b,j;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return d("Unstaking ".concat(s," ").concat(Object(D.d)(c.poolMint)," Pool tokens"),{variant:"info"}),l=new p.Account,n.t0=e.rpc,n.t1=new R.u64(s),n.t2=u,n.t3=o,n.t4=c.rewardEventQ,n.t5=c.poolMint,n.t6=l.publicKey,n.t7=r,n.t8=e.provider.wallet.publicKey,n.t9=a.balances,n.t10=a.balancesLocked,n.next=15,Object(V.c)(e.programId,o,r);case 15:return n.t11=n.sent.publicKey,n.t12=W.TokenInstructions.TOKEN_PROGRAM_ID,n.t13=p.SYSVAR_CLOCK_PUBKEY,n.t14=p.SYSVAR_RENT_PUBKEY,n.t15={registrar:n.t3,rewardEventQ:n.t4,poolMint:n.t5,pendingWithdrawal:n.t6,member:n.t7,beneficiary:n.t8,balances:n.t9,balancesLocked:n.t10,memberSigner:n.t11,tokenProgram:n.t12,clock:n.t13,rent:n.t14},n.t16=[l],n.next=23,e.account.pendingWithdrawal.createInstruction(l);case 23:return n.t17=n.sent,n.t18=[n.t17],n.t19={accounts:n.t15,signers:n.t16,instructions:n.t18},n.next=28,n.t0.startUnstake.call(n.t0,n.t1,n.t2,n.t19);case 28:return b=n.sent,n.next=31,e.account.pendingWithdrawal(l.publicKey);case 31:j=n.sent,t({type:L.a.RegistryCreatePendingWithdrawal,item:{pendingWithdrawal:{publicKey:l.publicKey,account:j}}}),m(),d("Stake transfer initiated",{variant:"success",action:Object(U.jsx)(I.a,{signature:b})});case 35:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),h=function(){var e=Object(s.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t>0&&j(t,n).catch((function(e){console.error(e),d("Error staking: ".concat(e.toString()),{variant:"error"})}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=Object(s.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t>0&&g(t,n).catch((function(e){console.error(e),d("Error unstaking: ".concat(e.toString()),{variant:"error"})}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(U.jsxs)("div",{style:{width:"100%"},children:[Object(U.jsxs)("div",{style:{display:"flex",width:"100%"},children:[Object(U.jsx)("div",{style:{flex:1,marginTop:"24px",marginBottom:"24px"},children:Object(U.jsx)(_,{title:"Stake Pool",create:h,redeem:f})}),Object(U.jsx)(q,{style:{marginBottom:"24px"}})]}),Object(U.jsx)(F,{})]})}function _(e){var t=e.title,n=e.create,r=e.redeem,c=Object(o.useState)(null),i=Object(a.a)(c,2),s=i[0],l=i[1],b=Object(o.useState)(!1),p=Object(a.a)(b,2),m=p[0],j=p[1],g=Object(u.c)((function(e){var t=e.accounts[e.registry.registrar.toString()];return{poolTokenMint:{publicKey:t.poolMint,account:e.accounts[t.poolMint.toString()]},member:e.registry.member,registrarAccount:t,mint:{publicKey:t.mint,account:e.accounts[t.mint.toString()]}}})),h=g.poolTokenMint,f=g.member,x=g.registrarAccount,S=g.mint,k=Object(D.c)(x.stakeRate,S.account.decimals),K=s?Object(D.c)(x.stakeRate.mul(new d.a(s)),S.account.decimals):0;return Object(U.jsxs)(C.a,{style:{marginBottom:"24px"},children:[Object(U.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(U.jsx)(P.a,{title:t,subheader:h.publicKey.toString()}),Object(U.jsx)("div",{style:{paddingRight:"16px",display:"flex",justifyContent:"center",flexDirection:"column"},children:Object(U.jsx)(A.a,{color:"textSecondary"})})]}),Object(U.jsxs)(M.a,{children:[Object(U.jsxs)("div",{style:{marginBottom:"16px"},children:[Object(U.jsxs)(A.a,{children:["Please enter the amount of pool tokens you would like to purchase in the form below. Upon pressing ",Object(U.jsx)("b",{children:"stake"})," you will create new pool tokens at a fixed price, adding to the amount of pool tokens outstanding."]}),Object(U.jsx)("br",{}),Object(U.jsx)(A.a,{children:"Unstaking works similarly, except one must incur an unbonding period where funds will not be able to be retrieved until the unbonding period ends. At the end of the unbonding period, click the blue checkbox next to your pending transfer. If the checkbox is grey, your unbonding period has not yet completed."}),Object(U.jsx)("br",{}),Object(U.jsx)(A.a,{style:{fontWeight:"bold"},children:"Total pool tokens outstanding"}),Object(U.jsx)(A.a,{children:h.account.supply.toString()}),Object(U.jsx)(A.a,{style:{fontWeight:"bold"},children:"Price per pool token"}),Object(U.jsx)(A.a,{children:k.toString()}),Object(U.jsx)(A.a,{style:{fontWeight:"bold"},children:"Your total cost"}),Object(U.jsxs)(A.a,{children:[K," ",Object(D.d)(S.publicKey)]}),Object(U.jsx)(A.a,{style:{fontWeight:"bold"},children:"Unbonding period (days)"}),Object(U.jsx)(A.a,{children:(x.withdrawalTimelock/86400).toString()})]}),Object(U.jsxs)("div",{children:[Object(U.jsx)("div",{style:{marginBottom:"10px"},children:Object(U.jsx)(T.a,{children:Object(U.jsx)(w.a,{style:{width:"100%"},label:"Pool tokens",type:"number",variant:"outlined",onChange:function(e){return l(parseInt(e.target.value))}})})}),Object(U.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(U.jsxs)("div",{children:[Object(U.jsx)(v.a,{disabled:void 0===f,color:"primary",variant:"contained",onClick:function(){return n(s,m)},children:"Stake"}),Object(U.jsx)(v.a,{disabled:void 0===f,color:"secondary",variant:"contained",style:{marginLeft:"10px"},onClick:function(){return r(s,m)},children:"Unstake"})]}),Object(U.jsx)("div",{children:Object(U.jsx)(y.a,{control:Object(U.jsx)(O.a,{checked:m,onChange:function(){return j(!m)}}),labelPlacement:"start",label:"Locked balances"})})]})]})]})]})}function q(t){var n=Object(E.b)().registryClient,r=Object(u.b)(),a=Object(u.c)((function(e){var t=e.registry.member?{publicKey:e.registry.member,account:e.accounts[e.registry.member.toString()]}:void 0,n={publicKey:e.registry.registrar,account:e.accounts[e.registry.registrar.toString()]},r={publicKey:n.account.mint,account:e.accounts[n.account.mint.toString()]};return{member:t,registrar:n,mint:r,pendingWithdrawals:null===e.registry.pendingWithdrawals?null:e.registry.pendingWithdrawals.map((function(t){return{publicKey:t,account:e.accounts[t.toString()]}}))}})),c=a.member,i=a.registrar,s=a.mint,l=a.pendingWithdrawals;return Object(o.useEffect)((function(){if(c&&null===l){var t=e.concat([i.publicKey.toBuffer(),c.publicKey.toBuffer()]);n.account.pendingWithdrawal.all(t).then((function(e){r({type:L.a.RegistrySetPendingWithdrawals,item:{pendingWithdrawals:e}})}))}}),[r,i,c,l,n.account.pendingWithdrawal]),Object(U.jsx)("div",{style:t.style,children:Object(U.jsx)(C.a,{style:{marginLeft:"20px",marginTop:"24px",width:"294px"},children:Object(U.jsxs)(M.a,{style:{paddingLeft:0,paddingRight:0,paddingBottom:0,paddingTop:0},children:[Object(U.jsxs)("div",{style:{marginLeft:"24px",marginTop:"24px",marginRight:"24px",borderBottom:"solid 1pt #ccc",paddingBottom:"12px"},children:[Object(U.jsx)(A.a,{style:{},children:"Your Pending Transfers"}),Object(U.jsx)(A.a,{style:{fontSize:"12px"},color:"textSecondary",children:'Click the checkmark to complete a transfer on or after the "end" date.'})]}),Object(U.jsx)("div",{style:{paddingLeft:"24px",paddingRight:"24px"},children:c&&null===l?Object(U.jsx)("div",{style:{paddingTop:"24px",marginBottom:"24px"},children:Object(U.jsx)(x.a,{style:{display:"block",marginLeft:"auto",marginRight:"auto"}})}):null!==l&&l.length>0?l.map((function(e,t){return Object(U.jsx)(z,{isLast:t===l.length-1,registrar:i,pw:e,member:c,mint:s},e.publicKey.toString())})):Object(U.jsx)("div",{style:{paddingBottom:"24px",paddingTop:"12px"},children:Object(U.jsx)(A.a,{color:"textSecondary",style:{fontSize:"14px"},children:"None found"})})})]})})})}function z(e){var t=e.isLast,n=e.pw,r=e.member,a=e.registrar,c=e.mint,i=function(){var e=n.account.locked?"(locked)":"";return"".concat(Object(D.c)(n.account.amount,c.account.decimals)," ").concat(Object(D.d)(c.publicKey)," ").concat(e)}();return Object(U.jsxs)("div",{style:{paddingBottom:t?"24px":"12px",paddingTop:"12px",borderBottom:"solid 1pt #ccc"},children:[Object(U.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",overflow:"hidden"},children:[Object(U.jsx)("div",{children:Object(U.jsx)(A.a,{style:{whiteSpace:"pre",maxWidth:"195px",overflow:"hidden",fontWeight:"bold",fontSize:"14px"},children:"".concat(i)})}),Object(U.jsx)("div",{children:Object(U.jsx)(Y,{registrar:a,member:r,pendingWithdrawal:n})})]}),Object(U.jsx)(A.a,{style:{fontSize:"14px"},children:"Start: ".concat(new Date(1e3*n.account.startTs.toNumber()).toLocaleString())}),Object(U.jsx)(A.a,{style:{fontSize:"14px"},children:"End:   ".concat(new Date(1e3*n.account.endTs.toNumber()).toLocaleString())}),Object(U.jsx)(A.a,{color:"textSecondary",style:{fontSize:"14px",overflow:"hidden"},children:n.account.pool.toString()})]})}function Y(e){var t=e.pendingWithdrawal,n=e.member,a=e.registrar,c=Object(E.b)().registryClient,o=Object(b.b)(),l=o.enqueueSnackbar,d=o.closeSnackbar,m=Object(u.b)(),j=function(){var e=Object(s.a)(i.a.mark((function e(){var s,o,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l("Completing redemption",{variant:"info"}),s=t.account.locked?n.account.balancesLocked:n.account.balances,e.t0=c.rpc,e.t1=a.publicKey,e.t2=n.publicKey,e.t3=c.provider.wallet.publicKey,e.t4=t.publicKey,e.t5=s.vault,e.t6=s.vaultPw,e.next=11,Object(V.c)(c.programId,a.publicKey,n.publicKey);case 11:return e.t7=e.sent.publicKey,e.t8=p.SYSVAR_CLOCK_PUBKEY,e.t9=W.TokenInstructions.TOKEN_PROGRAM_ID,e.t10={registrar:e.t1,member:e.t2,beneficiary:e.t3,pendingWithdrawal:e.t4,vault:e.t5,vaultPw:e.t6,memberSigner:e.t7,clock:e.t8,tokenProgram:e.t9},e.t11={accounts:e.t10},e.next=18,e.t0.endUnstake.call(e.t0,e.t11);case 18:o=e.sent,u={publicKey:t.publicKey,account:Object(r.a)(Object(r.a)({},t.account),{},{burned:!0})},m({type:L.a.RegistryUpdatePendingWithdrawal,item:{pendingWithdrawal:u}}),d(),l("Stake transfer completed",{variant:"success",action:Object(U.jsx)(I.a,{signature:o})});case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=!1,h=B.a().ready,f=function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",j().catch((function(e){console.error("Error completing transfer: ".concat(e.toString())),l("Error completing transfer. Wait for the transfer's timelock to end and try again.",{variant:"error"})})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t.account.burned&&(g=!0,h=B.a().active,f=function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),t.account.endTs.toNumber()>Date.now()/1e3&&(g=!0,h=B.a().notReady,f=function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),Object(U.jsx)("div",{onClick:f,style:{display:"flex",justifyContent:"center",flexDirection:"column"},children:Object(U.jsx)(S.a,{disabled:g,style:{width:"25px",height:"25px"},children:Object(U.jsx)(K.a,{style:{color:h,fontSize:"20px"}})})})}function F(){var e=Object(E.b)().registryClient,t=Object(u.c)((function(e){var t=e.accounts[e.registry.registrar.toString()];return{registrar:e.registry.registrar,registrarAccount:t,mintAccount:e.accounts[t.mint.toString()]}})),n=t.registrar,r=t.registrarAccount,c=t.mintAccount,l=Object(o.useState)(null),d=Object(a.a)(l,2),b=d[0],p=d[1];return Object(o.useEffect)((function(){(function(){var t=Object(s.a)(i.a.mark((function t(){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.account.pendingWithdrawal.all(n.toBuffer());case 2:r=(r=t.sent).filter((function(e){return!1===e.account.burned})).sort((function(e,t){return e.account.startTs<t.account.startTs?1:e.account.startTs>t.account.startTs?-1:0})),p(r);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e,n]),Object(U.jsxs)(C.a,{style:{maxHeight:"900px",overflow:"auto"},children:[Object(U.jsx)(A.a,{variant:"h5",style:{padding:"16px",borderBottom:"solid 1pt #ccc"},children:"All pending transfers"}),null!==b?Object(U.jsxs)(m.a,{children:[Object(U.jsx)(j.a,{children:Object(U.jsxs)(f.a,{children:[Object(U.jsx)(h.a,{children:"Member Account"}),Object(U.jsx)(h.a,{children:"Amount"}),Object(U.jsx)(h.a,{children:"Pool"}),Object(U.jsx)(h.a,{children:"Locked"}),Object(U.jsx)(h.a,{children:"Start"}),Object(U.jsx)(h.a,{children:"End"})]})}),Object(U.jsx)(g.a,{children:b.map((function(e){return Object(U.jsxs)(f.a,{children:[Object(U.jsx)(h.a,{children:e.account.member.toString()}),Object(U.jsx)(h.a,{children:Object(D.c)(e.account.amount.toString(),c.decimals)}),Object(U.jsx)(h.a,{children:e.account.amount.div(r.stakeRate).toString()}),Object(U.jsx)(h.a,{children:e.account.locked.toString()}),Object(U.jsx)(h.a,{children:new Date(1e3*e.account.startTs.toNumber()).toString()}),Object(U.jsx)(h.a,{children:new Date(1e3*e.account.endTs.toNumber()).toString()})]})}))})]}):Object(U.jsx)("div",{style:{padding:"24px"},children:Object(U.jsx)(x.a,{style:{display:"block",marginLeft:"auto",marginRight:"auto"}})})]})}}).call(this,n(16).Buffer)},343:function(e,t,n){},347:function(e,t){},349:function(e,t){},372:function(e,t){},373:function(e,t){},411:function(e,t){},413:function(e,t){},44:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var r=n(2),a=n.n(r),c=n(5),i=(n(0),n(20)),s=n(69),o=n(1);function u(e,t,n,r){return l.apply(this,arguments)}function l(){return(l=Object(c.a)(a.a.mark((function e(t,n,r,c){var i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.enqueueSnackbar(n,{variant:"info"}),e.prev=1,e.next=4,c();case 4:i=e.sent,t.closeSnackbar(),t.enqueueSnackbar(r,{variant:"success",action:Object(o.jsx)(d,{signature:i})}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t.enqueueSnackbar("Error: ".concat(e.t0.toString()),{variant:"error"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function d(e){var t=e.signature,n=Object(i.c)((function(e){return{explorerClusterSuffix:e.common.network.explorerClusterSuffix}})).explorerClusterSuffix,r="?cluster=".concat(n);return Object(o.jsx)(s.a,{color:"inherit",component:"a",target:"_blank",rel:"noopener",href:"https://explorer.solana.com/tx/".concat(t)+r,children:"View on Solana Explorer"})}},443:function(e,t,n){"use strict";n.r(t);var r,a=n(0),c=n.n(a),i=n(36),s=n.n(i),o=(n(343),n(20)),u=n(222),l=n(39),d=n(35),b=n(494),p=n(495),m=n(493),j=n(311),g=n(24),h=n(23),f=n(78);!function(e){e[e.NeedsBootstrap=0]="NeedsBootstrap",e[e.IsBootstrapping=1]="IsBootstrapping",e[e.Bootstrapped=2]="Bootstrapped"}(r||(r={}));var x={common:{bootstrapTrigger:!1,shutdownTrigger:!1,isWalletConnected:!1,walletProvider:"https://www.sollet.io",bootstrapState:r.NeedsBootstrap,network:f.a.mainnet,ownedTokenAccounts:[]},lockup:{vestings:[]},registry:{pendingWithdrawals:null,registrar:f.a.mainnet.registrars.srm},accounts:{}},y=Object(j.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0,n={common:Object(g.a)({},e.common),lockup:Object(g.a)({},e.lockup),registry:Object(g.a)({},e.registry),accounts:Object(g.a)({},e.accounts)};switch(t.type){case h.a.CommonAppWillBootstrap:return n.common.bootstrapState=r.IsBootstrapping,n.common.bootstrapTrigger=!1,n;case h.a.CommonAppDidBootstrap:return n.common.bootstrapState=r.Bootstrapped,n;case h.a.CommonWalletSetProvider:return n.common.walletProvider=t.item.walletProvider,n;case h.a.CommonWalletDidConnect:return n.common.isWalletConnected=!0,n;case h.a.CommonWalletDidDisconnect:return n.common.isWalletConnected=!1,n;case h.a.CommonSetNetwork:if(n.common.network.label!==t.item.network.label){n.common.network=t.item.network,n.common.bootstrapState=r.NeedsBootstrap,n.common.shutdownTrigger=!0;var a=f.a[t.item.networkKey];n.registry.registrar=Object.values(a.registrars)[0]}return n;case h.a.CommonTriggerBootstrap:return n.common.bootstrapState=r.NeedsBootstrap,n.common.bootstrapTrigger=!0,n;case h.a.CommonTriggerShutdown:return n.common.bootstrapState=r.NeedsBootstrap,n.common.shutdownTrigger=!0,n;case h.a.CommonDidShutdown:var c=Object(g.a)({},x);return c.common.network=n.common.network,c.registry.registrar=n.registry.registrar,c;case h.a.CommonOwnedTokenAccountsSet:return n.common.ownedTokenAccounts=t.item.ownedTokenAccounts,n;case h.a.CommonOwnedTokenAccountsUpdate:return n.common.ownedTokenAccounts=n.common.ownedTokenAccounts.map((function(e){return e.publicKey.equals(t.item.account.publicKey)?t.item.account:e})),n;case h.a.LockupSetVestings:return n.lockup.vestings=t.item.vestingAccounts,n;case h.a.LockupUpdateVesting:return n.accounts[t.item.vesting.publicKey.toString()]=t.item.vesting.account,n;case h.a.LockupCreateVesting:return n.lockup.vestings.unshift(t.item.vesting.publicKey),n.accounts[t.item.vesting.publicKey.toString()]=t.item.vesting.account,n;case h.a.RegistrySetMember:return n.registry.member=t.item.member,n;case h.a.RegistrySetRegistrar:return n.registry.registrar=t.item.registrar,n.registry.member=t.item.member,n.registry.pendingWithdrawals=null,n;case h.a.RegistrySetPendingWithdrawals:return t.item.pendingWithdrawals.forEach((function(e){n.accounts[e.publicKey.toString()]=e.account})),n.registry.pendingWithdrawals=t.item.pendingWithdrawals.map((function(e){return e.publicKey})),n;case h.a.RegistryCreatePendingWithdrawal:return n.accounts[t.item.pendingWithdrawal.publicKey.toString()]=t.item.pendingWithdrawal.account,null===n.registry.pendingWithdrawals&&(n.registry.pendingWithdrawals=[]),n.registry.pendingWithdrawals.unshift(t.item.pendingWithdrawal.publicKey),n;case h.a.RegistryUpdatePendingWithdrawal:return n.accounts[t.item.pendingWithdrawal.publicKey.toString()]=t.item.pendingWithdrawal.account,n;case h.a.AccountAdd:case h.a.AccountUpdate:return n.accounts[t.item.account.publicKey.toString()]=t.item.account.account,n;default:return n}})),O=n(29),v=n(2),w=n.n(v),S=n(5),k=n(7),K=n(4),C=n(126),M=n(41),P=n(42),T=n(49),A=n(1);function R(e){var t=Object(o.c)((function(e){return{bootstrapTrigger:e.common.bootstrapTrigger,shutdownTrigger:e.common.shutdownTrigger,network:e.common.network,registrar:e.registry.registrar}})),n=t.bootstrapTrigger,r=t.shutdownTrigger,c=t.network,i=t.registrar,s=Object(o.b)(),u=Object(O.b)(),l=u.wallet,b=u.lockupClient,p=u.registryClient,m=Object(d.b)().enqueueSnackbar,j=Object(a.useCallback)(Object(S.a)(w.a.mark((function e(){var t,n,r,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m("Connecting to ".concat(c.label),{variant:"info",autoHideDuration:2500}),s({type:h.a.CommonAppWillBootstrap,item:{}}),e.next=4,W({dispatch:s,lockupClient:b,registryClient:p,network:c,wallet:l});case 4:return t=e.sent,n=t.registrars,r=t.members,a=Object.fromEntries(new Map(n.map((function(e){return[e.publicKey.toString(),e.account]})))),r.forEach((function(e){a[e.publicKey.toString()]=e.account})),e.next=11,I(p,a,s,i,void 0);case 11:s({type:h.a.CommonAppDidBootstrap,item:{}}),m("Connection established",{variant:"success",autoHideDuration:2500});case 13:case"end":return e.stop()}}),e)}))),[s,m,p,i,b,c,l]),g=Object(a.useCallback)(Object(S.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.disconnect(),s({type:h.a.CommonDidShutdown,item:{}});case 2:case"end":return e.stop()}}),e)}))),[s,l]);return Object(a.useEffect)((function(){n&&j().catch((function(e){console.error(e),m("Error bootstrapping application: ".concat(e.toString()),{variant:"error"})})),r&&g().catch((function(e){console.error(e),m("Error shutting down application: ".concat(e.toString()),{variant:"error"})}))}),[n,j,r,g,m]),Object(A.jsx)(A.Fragment,{children:e.children})}function W(e){return E.apply(this,arguments)}function E(){return(E=Object(S.a)(w.a.mark((function e(t){var n,r,a,c,i,s,o,u,l,d,b,p;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,r=t.lockupClient,a=t.registryClient,c=t.network,i=t.wallet,s=function(){var e=Object(S.a)(w.a.mark((function e(){var t,r,i,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object.values(c.registrars),e.next=3,P.d.getMultipleAccounts(a.provider.connection,t);case 3:return r=e.sent.map((function(e){var t=a.coder.accounts.decode("Registrar",e.account.data);return{publicKey:e.publicKey,account:t}})),e.next=6,P.d.getMultipleAccounts(a.provider.connection,r.map((function(e){return e.account.mint})));case 6:return i=e.sent.map((function(e){var t=Object(M.parseMintAccount)(e.account.data);return{publicKey:e.publicKey,account:t}})),e.next=9,P.d.getMultipleAccounts(a.provider.connection,r.map((function(e){return e.account.rewardEventQ})));case 9:return s=e.sent.map((function(e){var t=a.coder.accounts.decode("RewardQueue",e.account.data);return{publicKey:e.publicKey,account:t}})),r.concat(i).concat(s).forEach((function(e){n({type:h.a.AccountAdd,item:{account:e}})})),e.abrupt("return",r);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(S.a)(w.a.mark((function e(t){var r,c,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e){return e.publicKey})).map((function(e){return Object(T.b)(e).then((function(e){return K.PublicKey.createWithSeed(i.publicKey,e,a.programId)})).then((function(t){return{memberPublicKey:t,registrar:e}}))})));case 2:return r=e.sent,c=r.map((function(e){return e.memberPublicKey})),e.next=6,P.d.getMultipleAccounts(a.provider.connection,c);case 6:return s=e.sent.filter((function(e){return null!==e})).map((function(e){var t=a.coder.accounts.decode("Member",e.account.data);return{publicKey:e.publicKey,account:t}})),e.next=9,Promise.all(s.map((function(e){return U(e,n,a.provider.connection)})));case 9:return s.forEach((function(e){n({type:h.a.AccountAdd,item:{account:e}})})),e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(S.a)(w.a.mark((function e(t){var r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.map((function(e){return e.account.mint})).concat(t.map((function(e){return e.account.poolMint}))),e.next=3,P.d.getMultipleAccounts(a.provider.connection,r);case 3:e.sent.map((function(e){var t=Object(M.parseMintAccount)(e.account.data);return{publicKey:e.publicKey,account:t}})).forEach((function(e){n({type:h.a.AccountAdd,item:{account:e}})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(S.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(r.provider.connection,i.publicKey);case 2:t=e.sent,n({type:h.a.CommonOwnedTokenAccountsSet,item:{ownedTokenAccounts:t}});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(S.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.account.vesting.all(i.publicKey.toBuffer());case 2:(t=e.sent).forEach((function(e){n({type:h.a.AccountAdd,item:{account:e}})})),n({type:h.a.LockupSetVestings,item:{vestingAccounts:t.map((function(e){return e.publicKey}))}});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=8,s();case 8:return b=e.sent,e.next=11,o(b);case 11:return p=e.sent,e.next=14,u(b);case 14:return e.next=16,l();case 16:return e.next=18,d();case 18:return e.abrupt("return",{registrars:b,members:p});case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,t,n,r,a){return L.apply(this,arguments)}function L(){return(L=Object(S.a)(w.a.mark((function e(t,n,r,a,c){var i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.a)(w.a.mark((function e(){var r,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==c){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.t0=K.PublicKey,e.t1=t.provider.wallet.publicKey,e.next=6,Object(T.b)(c);case 6:return e.t2=e.sent,e.t3=t.programId,e.next=10,e.t0.createWithSeed.call(e.t0,e.t1,e.t2,e.t3);case 10:return r=e.sent,a=n[r.toString()],e.abrupt("return",void 0!==a?{publicKey:r,account:a}:void 0);case 13:case"end":return e.stop()}}),e)})))();case 2:return e.sent,e.next=5,Object(S.a)(w.a.mark((function e(){var r,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=K.PublicKey,e.t1=t.provider.wallet.publicKey,e.next=4,Object(T.b)(a);case 4:return e.t2=e.sent,e.t3=t.programId,e.next=8,e.t0.createWithSeed.call(e.t0,e.t1,e.t2,e.t3);case 8:return r=e.sent,c=n[r.toString()],e.abrupt("return",c?{publicKey:r,account:c}:void 0);case 11:case"end":return e.stop()}}),e)})))();case 5:return i=e.sent,e.next=8,B(t,n,r,a,c);case 8:i&&V(i,t,r),r({type:h.a.RegistrySetRegistrar,item:{registrar:a,member:i?i.publicKey:void 0}});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t,n,r,a){return D.apply(this,arguments)}function D(){return(D=Object(S.a)(w.a.mark((function e(t,n,r,a,c){var i,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c&&(i=n[c.toString()],t.account.rewardQueue.unsubscribe(i.rewardEventQ)),s=n[a.toString()],t.account.rewardQueue.subscribe(s.rewardEventQ).on("change",(function(e){r({type:h.a.AccountUpdate,item:{account:{publicKey:s.rewardEventQ,account:e}}})})),t.provider.connection.onAccountChange(s.poolMint,(function(e){var t=Object(M.parseMintAccount)(e.data);r({type:h.a.AccountUpdate,item:{account:{publicKey:s.poolMint,account:t}}})}),"recent");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e,t,n){t.account.member.subscribe(e.publicKey).on("change",(function(t){n({type:h.a.AccountUpdate,item:{account:{publicKey:e.publicKey,account:t}}})}));var r=function(e){t.provider.connection.onAccountChange(e,(function(t){var r=Object(M.parseTokenAccount)(t.data);n({type:h.a.AccountUpdate,item:{account:{publicKey:e,account:r}}})}),"recent")};r(e.account.balances.vault),r(e.account.balances.vaultStake),r(e.account.balances.vaultPw),r(e.account.balances.spt),r(e.account.balancesLocked.vault),r(e.account.balancesLocked.vaultStake),r(e.account.balancesLocked.vaultPw),r(e.account.balancesLocked.spt)}function U(e,t,n){return N.apply(this,arguments)}function N(){return(N=Object(S.a)(w.a.mark((function e(t,n,r){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.d.getMultipleAccounts(r,[t.account.balances.vault,t.account.balances.vaultStake,t.account.balances.vaultPw,t.account.balances.spt,t.account.balancesLocked.vault,t.account.balancesLocked.vaultStake,t.account.balancesLocked.vaultPw,t.account.balancesLocked.spt]);case 2:e.sent.filter((function(e){return null!==e})).map((function(e){return{publicKey:e.publicKey,account:Object(M.parseTokenAccount)(e.account.data)}})).forEach((function(e){n({type:h.a.AccountAdd,item:{account:e}})}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e,t){return q.apply(this,arguments)}function q(){return(q=Object(S.a)(w.a.mark((function e(t,n){var r,a,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Y(n),e.next=3,t.getProgramAccounts(C.TOKEN_PROGRAM_ID,{filters:r});case 3:return a=e.sent,c=a.map((function(e){var t=e.pubkey,n=e.account.data;return{publicKey:new K.PublicKey(t),account:F(n)}})),e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var z=k.struct([k.blob(32,"mint"),k.blob(32,"owner"),k.nu64("amount"),k.blob(93)]);function Y(e){return[{memcmp:{offset:z.offsetOf("owner"),bytes:e.toBase58()}},{dataSize:z.span}]}function F(e){var t=z.decode(e),n=t.mint,r=t.owner,a=t.amount;return{mint:new K.PublicKey(n),owner:new K.PublicKey(r),amount:a}}var Q=n(28),G=n(12),J=n(34),X=n(486),H=n(490),Z=n(69),$=n(445),ee=n(446),te=n(321),ne=n(310),re=n(487),ae=n(317),ce=n(116),ie=n(228),se=n.n(ie),oe=n(292),ue=n.n(oe),le=n(291),de=n.n(le),be=n(290),pe=n.n(be),me=n(131);function je(e){var t=e.isAppReady,n=Object(o.c)((function(e){return{network:e.common.network,isAppReady:e.common.isWalletConnected&&e.common.bootstrapState===r.Bootstrapped}})).network,c=Object(o.b)(),i=Object(d.b)(),s=i.enqueueSnackbar,u=i.closeSnackbar,l=Object(O.b)(),b=l.wallet,p=l.registryClient,m=l.lockupClient,j=Object(a.useState)(!1),g=Object(G.a)(j,2),h=g[0],f=g[1];return Object(A.jsx)($.a,{position:"static",style:{background:"#ffffff",color:"#272727",boxShadow:"none",borderBottom:"solid 1pt #ccc"},children:Object(A.jsx)(ee.a,{children:Object(A.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%"},children:[Object(A.jsxs)("div",{style:{display:"flex"},children:[Object(A.jsx)(ge,{}),Object(A.jsx)(he,{label:"Stake",hrefClient:"/stake"}),Object(A.jsx)(he,{label:"Lockup",hrefClient:"/lockup"}),Object(A.jsx)(he,{label:"Multisig",href:"https://multisig.projectserum.com"}),Object(A.jsx)(he,{label:"Trade",href:"https://dex.projectserum.com"}),n.srmFaucet&&Object(A.jsx)(he,{label:"Faucet",href:"https://www.spl-token-ui.com/#/token-faucets"})]}),Object(A.jsxs)("div",{style:{display:"flex"},children:[Object(A.jsx)("div",{onClick:function(){f(!0),s("Refreshing",{variant:"info"}),W({dispatch:c,lockupClient:m,registryClient:p,network:n,wallet:b}).then((function(){f(!1),u()})).catch((function(e){f(!1),u(),s("There was a problem refreshing: ".concat(e),{variant:"error",autoHideDuration:2500})}))},style:{display:t?"block":"none",justifyContent:"center",flexDirection:"column",marginRight:"10px"},children:h?Object(A.jsx)("div",{style:{marginTop:"8px",padding:"10px"},children:Object(A.jsx)(me.a,{style:{width:"24px",height:"24px"}})}):Object(A.jsx)("div",{children:Object(A.jsx)(ce.a,{children:Object(A.jsx)(pe.a,{})})})}),Object(A.jsx)(fe,{}),Object(A.jsx)(ye,{style:{display:t?"none":""}}),t&&Object(A.jsx)(xe,{})]})]})})})}function ge(){var e=Object(l.e)();return Object(A.jsx)("div",{style:{display:"flex"},onClick:function(){return e.push("/")},children:Object(A.jsx)(Z.a,{color:"inherit",children:Object(A.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:Object(A.jsx)("img",{style:{display:"block",height:"35px"},alt:"Logo",src:"http://dex.projectserum.com/static/media/logo.49174c73.svg"})})})})}function he(e){var t=Object(l.e)(),n=e.label,r=e.href,a=e.hrefClient;return Object(A.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"},onClick:function(){return a&&t.push(a)},children:Object(A.jsx)(re.a,{style:{color:"inherit",textDecoration:"none"},href:r,target:"_blank",children:Object(A.jsx)(Z.a,{color:"inherit",children:Object(A.jsx)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column"},children:Object(A.jsx)(J.a,{style:{fontSize:"15px"},children:n})})})})})}function fe(){var e=Object(o.c)((function(e){return e.common.network})),t=Object(o.b)(),n=Object(a.useState)(null),r=Object(G.a)(n,2),c=r[0],i=r[1],s=function(){i(null)};return Object(A.jsxs)("div",{style:{marginRight:"10px",fontSize:"15px",display:"flex",justifyContent:"center",flexDirection:"column"},children:[Object(A.jsxs)(Z.a,{color:"inherit",onClick:function(e){return i(e.currentTarget)},children:[Object(A.jsx)(de.a,{}),Object(A.jsx)(J.a,{style:{marginLeft:"5px",fontSize:"15px"},children:e.label})]}),Object(A.jsx)(ne.a,{anchorEl:c,open:Boolean(c),onClose:s,style:{marginLeft:"12px",color:"white"},children:Object.keys(f.a).map((function(e){return Object(A.jsx)(ae.a,{onClick:function(){s(),t({type:h.a.CommonSetNetwork,item:{network:f.a[e],networkKey:e}})},children:Object(A.jsx)(J.a,{children:f.a[e].label})},e)}))})]})}function xe(){var e=Object(O.b)().wallet;return Object(A.jsx)(te.a,{displayEmpty:!0,renderValue:function(){var t;return Object(A.jsx)(J.a,{style:{overflow:"hidden"},children:null===(t=e.publicKey)||void 0===t?void 0:t.toString()})},style:{marginLeft:"12px",width:"150px"},onChange:function(t){"disconnect"===t.target.value&&e.disconnect()},children:Object(A.jsx)(ae.a,{value:"disconnect",children:Object(A.jsxs)(ce.a,{color:"inherit",children:[Object(A.jsx)(se.a,{}),Object(A.jsx)(J.a,{style:{marginLeft:"15px"},children:"Disconnect"})]})})})}function ye(e){var t=Object(o.c)((function(e){return{showDisconnect:e.common.isWalletConnected}})).showDisconnect,n=Object(o.b)(),r=Object(O.b)(),c=r.wallet,i=r.lockupClient,s=Object(d.b)().enqueueSnackbar;return Object(a.useEffect)((function(){c.on("disconnect",(function(){s("Disconnected from wallet",{variant:"info",autoHideDuration:2500}),n({type:h.a.CommonWalletDidDisconnect,item:{}}),n({type:h.a.CommonTriggerShutdown,item:{}})})),c.on("connect",Object(S.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:h.a.CommonWalletDidConnect,item:{}}),n({type:h.a.CommonTriggerBootstrap,item:{}});case 2:case"end":return e.stop()}}),e)}))))}),[c,n,s,i.provider.connection]),t?Object(A.jsxs)(Z.a,{style:e.style,color:"inherit",onClick:function(){return c.disconnect()},children:[Object(A.jsx)(se.a,{}),Object(A.jsx)(J.a,{style:{marginLeft:"5px",fontSize:"15px"},children:"Disconnect"})]}):Object(A.jsxs)(Z.a,{style:e.style,color:"inherit",onClick:function(){return c.connect()},children:[Object(A.jsx)(ue.a,{}),Object(A.jsx)(J.a,{style:{marginLeft:"5px",fontSize:"15px"},children:"Connect wallet"})]})}function Oe(){return Object(A.jsx)("div",{style:{zIndex:99,position:"fixed",width:"100%",bottom:0,textAlign:"center",height:"30px",backgroundColor:"#fbfbfb",borderTop:"solid 1pt #ccc",display:"flex",justifyContent:"space-between",paddingLeft:"10px",paddingRight:"10px"},children:Object(A.jsxs)("div",{style:{marginLeft:"auto",marginRight:"auto",display:"flex"},children:[Object(A.jsx)(ve,{href:"https://github.com/project-serum/anchor/blob/master/examples/lockup/docs/staking.md",label:"Technical Documentation"}),Object(A.jsx)(ve,{href:"https://github.com/project-serum/awesome-serum",label:"Developer Resources"}),Object(A.jsx)(ve,{href:"https://discord.com/channels/739225212658122886",label:"Discord"}),Object(A.jsx)(ve,{href:"https://t.me/ProjectSerum",label:"Telegram"}),Object(A.jsx)(ve,{href:"https://github.com/project-serum",label:"GitHub"}),Object(A.jsx)(ve,{href:"https://solanabeach.io/",label:"Solana Network",isEnd:!0})]})})}function ve(e){var t=e.label,n=e.href,r=e.isEnd;return Object(A.jsx)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column",marginRight:r?"":"15px"},children:Object(A.jsx)(re.a,{href:n,target:"_blank",color:"inherit",children:Object(A.jsx)(J.a,{style:{fontSize:"14px"},children:t})})})}function we(e){var t=Object(o.c)((function(e){return{isAppReady:e.common.isWalletConnected&&e.common.bootstrapState===r.Bootstrapped}})).isAppReady,n=Object(a.useState)(!1),c=Object(G.a)(n,2),i=c[0],s=c[1];return Object(A.jsxs)("div",{style:{display:"flex",minHeight:"100vh",flexDirection:"column",backgroundColor:"rgb(251, 251, 251)"},children:[Object(A.jsxs)("div",{style:{position:"fixed",width:"100%",zIndex:99},children:[Object(A.jsx)(Se,{}),Object(A.jsx)(je,{isAppReady:t})]}),Object(A.jsx)("div",{style:{width:"100%",marginTop:"94px",flex:1,display:"flex",marginBottom:"30px"},children:window.localStorage.getItem("consent")?t?Object(A.jsx)("div",{style:{width:"100%"},children:e.children}):Object(A.jsx)(Ce,{}):Object(A.jsx)(Ke,{onConsent:function(){window.localStorage.setItem("consent","true"),s(!i)}})}),Object(A.jsx)(Oe,{})]})}function Se(){return Object(A.jsx)("div",{style:{color:"#fff",backgroundColor:"rgb(39, 39, 39)",height:"30px",textAlign:"center"},children:Object(A.jsx)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column",height:"100%"},children:Object(A.jsx)(J.a,{style:{fontSize:"14px"},children:"Stake is unaudited software. Use at your own risk."})})})}var ke=Object(X.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function Ke(e){var t=e.onConsent;return Object(A.jsxs)("div",{style:{flex:"1",display:"flex",justifyContent:"center",flexDirection:"column",textAlign:"center"},children:[Object(A.jsx)("div",{style:{width:"100%",display:"flex"},children:Object(A.jsx)("div",{style:{display:"flex",marginLeft:"auto",marginRight:"auto"},children:Object(A.jsx)(J.a,{style:{marginBottom:"16px",maxWidth:"1000px"},color:"textSecondary",variant:"h4",children:"No statement or warranty is provided in relation to the utility of this program, the safety of its code or its suitability for your use, and by using it, you agree to bear any risk associated with such potential vulnerabilities, including, but not limited to the potential loss of tokens."})})}),Object(A.jsx)("div",{style:{display:"flex",marginLeft:"auto",marginRight:"auto"},children:Object(A.jsx)(Z.a,{variant:"contained",color:"primary",onClick:t,children:"I agree"})})]})}function Ce(){var e=ke(),t=Object(o.c)((function(e){return{network:e.common.network,isDisconnected:!e.common.isWalletConnected}})),n=t.network,r=t.isDisconnected;return Object(A.jsx)("div",{style:{flex:"1",display:"flex",justifyContent:"center",flexDirection:"column",textAlign:"center"},children:Object(A.jsx)("div",{style:{width:"100%",display:"flex"},children:r?Object(A.jsx)("div",{style:{display:"flex",marginLeft:"auto",marginRight:"auto"},children:Object(A.jsx)(J.a,{style:{marginLeft:"24px"},color:"textSecondary",variant:"h4",children:"Disconnected"})}):Object(A.jsx)("div",{style:{width:"100%"},children:Object(A.jsxs)("div",{style:{width:"100%"},className:e.root,children:[Object(A.jsx)("div",{children:Object(A.jsx)(J.a,{variant:"h5",children:"Connecting to ".concat(n.label,"...")})}),Object(A.jsx)("div",{style:{marginLeft:"auto",marginRight:"auto",width:"300px"},children:Object(A.jsx)(H.a,{style:{width:"100%"}})})]})})})})}var Me=n(293),Pe=n(295),Te=n(185),Ae=n.n(Te),Re=n(452),We=n(299),Ee=n.n(We),Ie=n(300),Le=n.n(Ie),Be=n(240),De=n(319),Ve=n(239),Ue=n(238),Ne=n(93),_e=n(318),qe=n(483),ze=n(450),Ye=n(496),Fe=n(492),Qe=n(451),Ge=n(454),Je=n(43),Xe=n(73),He=n(44);function Ze(e){return Object.keys(e.common.network.registrars).map((function(t){return[t,{publicKey:e.common.network.registrars[t],account:e.accounts[e.common.network.registrars[t].toString()]}]})).filter((function(e){return void 0!==e[1].account})).filter((function(t){var n=Object(G.a)(t,2);n[0];return n[1].publicKey.equals(e.registry.registrar)})).map((function(e){var t=Object(G.a)(e,2);return{label:t[0],programAccount:t[1]}})).pop()}function $e(){var e=Object(O.b)().registryClient,t=Object(o.c)((function(e){var t=Object.keys(e.common.network.registrars).map((function(t){return[t,{publicKey:e.common.network.registrars[t],account:e.accounts[e.common.network.registrars[t].toString()]}]})).filter((function(e){return void 0!==e[1].account})),n=t.filter((function(t){var n=Object(G.a)(t,2);n[0];return n[1].publicKey.equals(e.registry.registrar)})).map((function(e){var t=Object(G.a)(e,2);return{label:t[0],programAccount:t[1]}})).pop();return{network:e.common.network,accounts:e.accounts,registrars:t,selectedRegistrar:n}})),n=t.registrars,r=t.selectedRegistrar,a=t.accounts,c=t.network,i=Object(o.b)(),s=Object(Q.e)();return Object(A.jsx)(te.a,{style:{width:"294px",height:"36px"},variant:"outlined",fullWidth:!0,value:r.label,onChange:function(){var t=Object(S.a)(w.a.mark((function t(c){var s;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=n.filter((function(e){var t=Object(G.a)(e,2),n=t[0];t[1];return n===c.target.value})).map((function(e){var t=Object(G.a)(e,2);t[0];return t[1]})).pop(),I(e,a,i,s.publicKey,r.programAccount.publicKey);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:0===n.length?Object(A.jsx)(ae.a,{value:"_loading",children:"Loading registrars..."}):n.map((function(e){var t=Object(G.a)(e,2),n=t[0],r=t[1];return Object(A.jsx)(ae.a,{value:n,children:Object(A.jsxs)("div",{style:{display:"flex"},children:[Object(A.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:tt(s.get(r.account.mint.toString()))}),Object(A.jsx)("div",{style:{overflow:"hidden",display:"flex",flexDirection:"column",justifyContent:"center"},children:"".concat(et(r,c))})]})},n)}))})}function et(e,t){var n=Object.keys(t.registrars).filter((function(n){return t.registrars[n].equals(e.publicKey)})).pop();return void 0!==n?n.toUpperCase():e.publicKey.toString()}function tt(e,t){return e?Object(A.jsx)("img",{alt:"Token Icon",style:null!==t&&void 0!==t?t:{marginRight:"10px",height:"25px"},src:e.logoURI}):Object(A.jsx)("div",{style:{marginLeft:"32px"}})}var nt=n(117),rt=n(132),at=n(152),ct=n(154),it=n(38),st=n(491),ot=n(153),ut=n(88);function lt(){var e=Object(o.c)((function(e){return{member:e.registry.member}})).member;return Object(A.jsx)("div",{style:{display:"flex",width:"100%"},children:Object(A.jsx)("div",{style:{flex:1,marginTop:"24px",marginBottom:"24px"},children:e&&Object(A.jsx)(dt,{})})})}function dt(){var e=Object(o.c)((function(e){var t=e.accounts[e.registry.member.toString()],n=e.accounts[e.registry.registrar.toString()];return{registrar:n,mint:e.accounts[n.mint.toString()],vault:e.accounts[t.balances.vault],vaultStake:e.accounts[t.balances.vaultStake],vaultPw:e.accounts[t.balances.vaultPw],spt:e.accounts[t.balances.spt],lockedVault:e.accounts[t.balancesLocked.vault],lockedVaultStake:e.accounts[t.balancesLocked.vaultStake],lockedVaultPw:e.accounts[t.balancesLocked.vaultPw],lockedSpt:e.accounts[t.balancesLocked.spt]}})),t=e.mint,n=e.registrar,r=e.vault,a=e.vaultStake,c=e.vaultPw,i=e.spt,s=e.lockedVault,u=e.lockedVaultStake,l=e.lockedVaultPw,d=e.lockedSpt,b=[{title:"Main Balances",description:"Balances deposited directly from the connected wallet.",rows:[{token:Object(Q.d)(n.mint),balance:Object(Q.c)(r.amount,t.decimals),stake:Object(Q.c)(a.amount,t.decimals),pending:Object(Q.c)(c.amount,t.decimals),spt:Object(Q.c)(i.amount,0)}]},{title:"Locked Balances",description:"Balances deposited from the lockup program. These funds are isolated from the Main Balances and may only be withdrawn back to the lockup program. At all times they are program controlled.",rows:[{token:Object(Q.d)(n.mint),balance:Object(Q.c)(s.amount,t.decimals),stake:Object(Q.c)(u.amount,t.decimals),pending:Object(Q.c)(l.amount,t.decimals),spt:Object(Q.c)(d.amount,0)}]}];return Object(A.jsx)(nt.a,{style:{marginBottom:"24px"},children:Object(A.jsx)(rt.a,{style:{marginTop:"24px",position:"relative",paddingTop:0,paddingBottom:"16px"},children:b.map((function(e){return Object(A.jsx)(bt,{title:e.title,description:e.description,rows:e.rows},e.title)}))})})}function bt(e){var t=e.title,n=e.rows,r=e.description;return Object(A.jsxs)("div",{style:{marginBottom:"16px"},children:[Object(A.jsx)(J.a,{style:{fontWeight:"bold"},children:t}),Object(A.jsx)(J.a,{color:"textSecondary",style:{fontSize:"14px"},children:r}),Object(A.jsx)(st.a,{children:Object(A.jsxs)(at.a,{children:[Object(A.jsx)(ot.a,{children:Object(A.jsxs)(ut.a,{children:[Object(A.jsx)(it.a,{children:"Token"}),Object(A.jsx)(it.a,{align:"right",children:"Available"}),Object(A.jsx)(it.a,{align:"right",children:"Pending"}),Object(A.jsx)(it.a,{align:"right",children:"Staked"}),Object(A.jsx)(it.a,{align:"right",children:"Pool"})]})}),Object(A.jsx)(ct.a,{children:null===n?Object(A.jsx)(me.a,{}):n.map((function(e){return Object(A.jsxs)(ut.a,{children:[Object(A.jsx)(it.a,{component:"th",scope:"row",children:e.token}),Object(A.jsx)(it.a,{align:"right",children:e.balance}),Object(A.jsx)(it.a,{align:"right",children:e.pending}),Object(A.jsx)(it.a,{align:"right",children:e.stake}),Object(A.jsx)(it.a,{align:"right",children:e.spt})]},e.token)}))})]})})]})}function pt(e,t){return mt.apply(this,arguments)}function mt(){return(mt=Object(S.a)(w.a.mark((function e(t,n){var r,a,c,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.e.PublicKey.findProgramAddress([n.toBuffer()],t);case 2:return r=e.sent,a=Object(G.a)(r,2),c=a[0],i=a[1],e.abrupt("return",{publicKey:c,nonce:i});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jt(){return(jt=Object(S.a)(w.a.mark((function e(t,n){var r,a,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=t.transaction.availableForWithdrawal({accounts:{vesting:n,clock:K.SYSVAR_CLOCK_PUBKEY}})).setSigners.apply(r,[t.provider.wallet.publicKey]),e.next=4,Object(M.simulateTransaction)(t.provider.connection,r,"recent");case 4:if(!(a=e.sent).value.err){e.next=7;break}throw new Error("RPC error: ".concat(a.value.err.toString()));case 7:return c=a.value.logs[1].slice("Program log: ".length),e.abrupt("return",new P.a(JSON.parse(c).result));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gt,ht,ft,xt=n(294),yt=n(236),Ot=n(229),vt=n(22),wt=n(33),St=n.n(wt),kt=n(455);function Kt(){var e=Object(a.useState)(!1),t=Object(G.a)(e,2),n=t[0],r=t[1];return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{onClick:function(){return r(!0)},children:Object(A.jsx)(Z.a,{variant:"contained",color:"secondary",children:"Drop Rewards"})}),Object(A.jsx)(Ct,{open:n,onClose:function(){return r(!1)}})]})}function Ct(e){var t=e.open,n=e.onClose,r=Object(o.c)((function(e){return{selectedRegistrar:Ze(e)}})).selectedRegistrar,c=Object(a.useState)(gt.Unlocked),i=Object(G.a)(c,2),s=i[0],u=i[1];return Object(A.jsxs)(Be.a,{open:t,onClose:n,fullWidth:!0,maxWidth:"md",children:[Object(A.jsx)(Ue.a,{children:Object(A.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:Object(A.jsx)(J.a,{variant:"h4",component:"h2",children:"Drop Rewards on ".concat(r.label.toUpperCase()," Stakers")})})}),Object(A.jsxs)(Ve.a,{children:[Object(A.jsxs)(Ye.a,{value:s,onChange:function(e,t){return u(t)},children:[Object(A.jsx)(Fe.a,{value:gt.Unlocked,label:"Unlocked"}),Object(A.jsx)(Fe.a,{value:gt.Locked,label:"Locked"})]}),s===gt.Unlocked&&Object(A.jsx)(Mt,{onClose:n}),s===gt.Locked&&Object(A.jsx)(Pt,{onClose:n})]})]})}function Mt(e){var t=e.onClose,n=Object(d.b)(),r=Object(O.b)().registryClient,c=Object(o.c)((function(e){return{network:e.common.network,registrar:{publicKey:e.registry.registrar,account:e.accounts[e.registry.registrar.toString()]},accounts:e.accounts}})),i=c.network,s=c.registrar,u=c.accounts,l=Object(a.useState)(null),b=Object(G.a)(l,2),p=b[0],m=b[1],j=Object(a.useState)(null),g=Object(G.a)(j,2),h=g[0],f=g[1],x=Object(a.useState)(null),y=Object(G.a)(x,2),v=y[0],k=y[1],C=Object(a.useState)(null),P=Object(G.a)(C,2),T=P[0],R=P[1],W=null!==T&&null!==v&&null!==p&&p>=100&&null!==h,E=function(){var e=Object(S.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He.b(n,"Dropping unlocked reward...","Unlocked reward dropped",Object(S.a)(w.a.mark((function e(){var t,n,a,c,o,l,d,b,m;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u[i.mints[T].toString()]){e.next=5;break}return e.next=4,M.getMintInfo(r.provider,i.mints[T]);case 4:t=e.sent;case 5:return n=Object(Q.b)(p,t.decimals),a={unlocked:{}},c=new K.Account,o=new K.Account,e.next=11,K.PublicKey.findProgramAddress([s.publicKey.toBuffer(),c.publicKey.toBuffer()],r.programId);case 11:return l=e.sent,d=Object(G.a)(l,2),b=d[0],m=d[1],e.t0=r.rpc,e.t1=a,e.t2=n,e.t3=new St.a(h),e.t4=r.provider.wallet.publicKey,e.t5=m,e.t6={registrar:s.publicKey,rewardEventQ:s.account.rewardEventQ,poolMint:s.account.poolMint,vendor:c.publicKey,vendorVault:o.publicKey,depositor:v,depositorAuthority:r.provider.wallet.publicKey,tokenProgram:Je.TokenInstructions.TOKEN_PROGRAM_ID,clock:K.SYSVAR_CLOCK_PUBKEY,rent:K.SYSVAR_RENT_PUBKEY},e.t7=[o,c],e.t8=[],e.t9=vt.a,e.next=27,M.createTokenAccountInstrs(r.provider,o.publicKey,i.mints[T],b);case 27:return e.t10=e.sent,e.t11=(0,e.t9)(e.t10),e.next=31,r.account.rewardVendor.createInstruction(c);case 31:return e.t12=e.sent,e.t13=[e.t12],e.t14=e.t8.concat.call(e.t8,e.t11,e.t13),e.t15={accounts:e.t6,signers:e.t7,instructions:e.t14},e.next=37,e.t0.dropReward.call(e.t0,e.t1,e.t2,e.t3,e.t4,e.t5,e.t15);case 37:return e.abrupt("return",e.sent);case 38:case"end":return e.stop()}}),e)}))));case 2:t();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(A.jsx)(Tt,{network:i,mint:T,setMint:R,setDepositor:k,setRewardDisplayAmount:m,expiryTs:h,setExpiryTs:f,onCancel:t,onClick:function(){E().catch((function(e){console.error(e),n.enqueueSnackbar("Error dropping unlocked reward: ".concat(e.toString()),{variant:"error"})}))},isSendEnabled:W})}function Pt(e){var t=e.onClose,n=Object(d.b)(),r=Object(O.b)().registryClient,c=Object(o.c)((function(e){return{network:e.common.network,registrar:{publicKey:e.registry.registrar,account:e.accounts[e.registry.registrar.toString()]},accounts:e.accounts}})),i=c.network,s=c.registrar,u=c.accounts,l=Object(a.useState)(null),b=Object(G.a)(l,2),p=b[0],m=b[1],j=Object(a.useState)(null),g=Object(G.a)(j,2),h=g[0],f=g[1],x=Object(a.useState)(null),y=Object(G.a)(x,2),v=y[0],k=y[1],C=Object(a.useState)(null),P=Object(G.a)(C,2),T=P[0],R=P[1],W=Object(a.useState)(null),E=Object(G.a)(W,2),I=E[0],L=E[1],B=Object(a.useState)(null),D=Object(G.a)(B,2),V=D[0],U=D[1],N=Object(a.useState)(7),_=Object(G.a)(N,2),q=_[0],z=_[1],Y=null!==h&&null!==v&&null!==V&&null!==I&&null!==p&&p>=100&&null!==T,F=function(){var e=Object(S.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He.b(n,"Dropping locked reward...","Locked reward dropped",Object(S.a)(w.a.mark((function e(){var t,n,a,c,o,l,d,b,m;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={locked:{startTs:new St.a(h),endTs:new St.a(v),periodCount:new St.a(q)}},n=new K.Account,a=new K.Account,e.next=5,K.PublicKey.findProgramAddress([s.publicKey.toBuffer(),n.publicKey.toBuffer()],r.programId);case 5:return c=e.sent,o=Object(G.a)(c,2),l=o[0],d=o[1],b=u[i.mints[V].toString()],m=Object(Q.b)(p,b.decimals),e.t0=r.rpc,e.t1=t,e.t2=m,e.t3=new St.a(T),e.t4=r.provider.wallet.publicKey,e.t5=d,e.t6={registrar:s.publicKey,rewardEventQ:s.account.rewardEventQ,poolMint:s.account.poolMint,vendor:n.publicKey,vendorVault:a.publicKey,depositor:I,depositorAuthority:r.provider.wallet.publicKey,tokenProgram:Je.TokenInstructions.TOKEN_PROGRAM_ID,clock:K.SYSVAR_CLOCK_PUBKEY,rent:K.SYSVAR_RENT_PUBKEY},e.t7=[a,n],e.t8=[],e.t9=vt.a,e.next=23,M.createTokenAccountInstrs(r.provider,a.publicKey,i.mints[V],l);case 23:return e.t10=e.sent,e.t11=(0,e.t9)(e.t10),e.next=27,r.account.rewardVendor.createInstruction(n);case 27:return e.t12=e.sent,e.t13=[e.t12],e.t14=e.t8.concat.call(e.t8,e.t11,e.t13),e.t15={accounts:e.t6,signers:e.t7,instructions:e.t14},e.next=33,e.t0.dropReward.call(e.t0,e.t1,e.t2,e.t3,e.t4,e.t5,e.t15);case 33:return e.abrupt("return",e.sent);case 34:case"end":return e.stop()}}),e)}))));case 2:t();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(A.jsx)(Tt,{network:i,mint:V,setMint:U,setDepositor:L,setRewardDisplayAmount:m,setStartTs:f,setEndTs:k,periodCount:q,setPeriodCount:z,expiryTs:T,setExpiryTs:R,onCancel:t,onClick:function(){F().catch((function(e){n.enqueueSnackbar("Error dropping locked reward: ".concat(e.toString()),{variant:"error"})}))},isSendEnabled:Y})}function Tt(e){var t=e.network,n=e.mint,r=e.setDepositor,a=e.setMint,c=e.setRewardDisplayAmount,i=e.setStartTs,s=e.setEndTs,o=e.periodCount,u=e.setPeriodCount,l=e.expiryTs,d=e.setExpiryTs,b=e.onCancel,p=e.onClick,m=e.isSendEnabled,j=Object.keys(t.mints).map((function(e){return{label:e,publicKey:t.mints[e]}}));return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{children:[Object(A.jsxs)("div",{style:{display:"flex",marginTop:"10px"},children:[Object(A.jsxs)("div",{style:{flex:1},children:[Object(A.jsx)(Xe.a,{style:{height:"100%"},mint:null===n?void 0:t.mints[n],onChange:function(e){return r(e)}}),Object(A.jsx)(ze.a,{children:"Account to send from"})]}),Object(A.jsx)("div",{children:Object(A.jsxs)(_e.a,{variant:"outlined",style:{width:"200px",marginLeft:"10px",marginTop:"10px"},children:[Object(A.jsx)(kt.a,{children:"Mint"}),Object(A.jsx)(te.a,{value:n,onChange:function(e){return a(e.target.value)},label:"Mint",children:j.map((function(e){return Object(A.jsx)(ae.a,{value:e.label,children:e.label.toUpperCase()})}))})]})}),Object(A.jsx)("div",{children:Object(A.jsx)(Ne.a,{style:{marginLeft:"10px",marginTop:"10px"},id:"outlined-number",label:"Amount",type:"number",InputLabelProps:{shrink:!0},variant:"outlined",onChange:function(e){return c(parseFloat(e.target.value))},InputProps:{inputProps:{min:0}}})})]}),void 0!==s&&void 0!==i&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{style:{display:"flex",marginTop:"37px"},children:Object(A.jsxs)("div",{style:{flex:1},children:[Object(A.jsx)(Ne.a,{fullWidth:!0,label:"Start date",type:"datetime-local",InputLabelProps:{shrink:!0},onChange:function(e){var t=new Date(e.target.value);i(t.getTime()/1e3)}}),Object(A.jsx)(ze.a,{children:"Date vesting begins"})]})}),Object(A.jsxs)("div",{style:{flex:1,marginTop:"20px"},children:[Object(A.jsx)(Ne.a,{fullWidth:!0,label:"End date",type:"datetime-local",InputLabelProps:{shrink:!0},onChange:function(e){var t=new Date(e.target.value);s(t.getTime()/1e3)}}),Object(A.jsx)(ze.a,{children:"Date the vesting account is fully vested"})]}),Object(A.jsx)("div",{children:Object(A.jsx)(_e.a,{fullWidth:!0,children:Object(A.jsx)(Ne.a,{style:{marginTop:"37px"},id:"outlined-number",label:"Period Count",type:"number",InputLabelProps:{shrink:!0},variant:"outlined",value:o,onChange:function(e){return u(parseInt(e.target.value))},InputProps:{inputProps:{min:1}}})})})]}),Object(A.jsxs)("div",{style:{marginTop:"37px",display:"flex"},children:[Object(A.jsxs)("div",{style:{flex:1,height:"100%",marginRight:"10px"},children:[Object(A.jsx)(Ne.a,{fullWidth:!0,label:"Expiry date",type:"datetime-local",InputLabelProps:{shrink:!0},onChange:function(e){var t=new Date(e.target.value);d(t.getTime()/1e3)}}),Object(A.jsx)(ze.a,{children:"Date after which the account owner dropping rewards can withdraw all unclaimed rewards."})]}),Object(A.jsx)("div",{style:{marginTop:"26px"},children:Object(A.jsx)(Ne.a,{style:{height:"100%"},disabled:!0,placeholder:"Expiry Unix timestamp",fullWidth:!0,value:l})})]})]}),Object(A.jsxs)(De.a,{children:[Object(A.jsx)(Z.a,{onClick:b,children:"Cancel"}),Object(A.jsx)(Z.a,{onClick:p,type:"submit",color:"primary",disabled:!m,children:"Send"})]})]})}function At(e){var t=Object(O.b)(),n=t.registryClient,r=t.lockupClient,c=Object(o.c)((function(e){return{registrar:{publicKey:e.registry.registrar,account:e.accounts[e.registry.registrar.toString()]},member:e.registry.member?{publicKey:e.registry.member,account:e.accounts[e.registry.member.toString()]}:void 0}})),i=c.member,s=c.registrar,u=e.rli,l=Object(o.b)(),b=Object(d.b)(),p=Object(a.useState)(null),m=Object(G.a)(p,2),j=m[0],f=m[1],x=function(){var e=Object(S.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:He.b(b,"Processing vendor reward ".concat(u.vendor.publicKey.toString()),"Reward processed",Object(S.a)(w.a.mark((function e(){var t,a,c,o,d,b,p,m;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.account.rewardVendor(u.vendor.publicKey);case 2:return t=e.sent,e.next=5,Object(T.f)(n.programId,s.publicKey,u.vendor.publicKey);case 5:if(a=e.sent,!u.reward.locked){e.next=45;break}return c=new K.Account,o=new K.Account,e.next=11,pt(r.programId,c.publicKey);case 11:return d=e.sent,b=r.instruction.createVesting.accounts({vesting:c.publicKey,vault:o.publicKey,depositor:t.vault,depositorAuthority:a.publicKey,tokenProgram:Je.TokenInstructions.TOKEN_PROGRAM_ID,rent:K.SYSVAR_RENT_PUBKEY,clock:K.SYSVAR_CLOCK_PUBKEY}).map((function(e){return e.pubkey.equals(a.publicKey)?Object(g.a)(Object(g.a)({},e),{},{isSigner:!1}):e})),e.t0=n.rpc,e.t1=d.nonce,e.next=17,n.state.address();case 17:return e.t2=e.sent,e.t3=r.programId,e.t4={registrar:s.publicKey,member:i.publicKey,beneficiary:n.provider.wallet.publicKey,balances:i.account.balances,balancesLocked:i.account.balancesLocked,vendor:u.vendor.publicKey,vault:u.vendor.account.vault,vendorSigner:a.publicKey,tokenProgram:Je.TokenInstructions.TOKEN_PROGRAM_ID,clock:K.SYSVAR_CLOCK_PUBKEY},e.t5={registry:e.t2,lockupProgram:e.t3,cmn:e.t4},e.t6=b,e.t7=[c,o],e.next=25,r.account.vesting.createInstruction(c);case 25:return e.t9=e.sent,e.t8=[e.t9],e.t10=vt.a,e.next=30,Object(M.createTokenAccountInstrs)(n.provider,o.publicKey,u.vendor.account.mint,d.publicKey);case 30:return e.t11=e.sent,e.t12=(0,e.t10)(e.t11),e.t13=e.t8.concat.call(e.t8,e.t12),e.t14={accounts:e.t5,remainingAccounts:e.t6,signers:e.t7,instructions:e.t13},e.next=36,e.t0.claimRewardLocked.call(e.t0,e.t1,e.t14);case 36:return p=e.sent,e.next=39,r.account.vesting.all(n.provider.wallet.publicKey.toBuffer());case 39:return(m=e.sent).forEach((function(e){l({type:h.a.AccountAdd,item:{account:e}})})),l({type:h.a.LockupSetVestings,item:{vestingAccounts:m.map((function(e){return e.publicKey}))}}),e.abrupt("return",p);case 45:return e.next=47,n.rpc.claimReward({accounts:{to:j,cmn:{registrar:s.publicKey,member:i.publicKey,beneficiary:n.provider.wallet.publicKey,balances:i.account.balances,balancesLocked:i.account.balancesLocked,vendor:u.vendor.publicKey,vault:t.vault,vendorSigner:a.publicKey,tokenProgram:Je.TokenInstructions.TOKEN_PROGRAM_ID,clock:K.SYSVAR_CLOCK_PUBKEY}}});case 47:return e.abrupt("return",e.sent);case 48:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(A.jsxs)(A.Fragment,{children:[!u.reward.locked&&Object(A.jsx)("div",{children:Object(A.jsx)(Xe.a,{style:{width:"400px",height:"100%"},mint:u.vendor.account.mint,onChange:function(e){return f(e)}})}),Object(A.jsx)("div",{style:{marginLeft:"10px",marginRight:"10px"},children:Object(A.jsx)(Z.a,{disabled:u.reward.unlockedAlloc&&null===j,variant:"contained",color:"primary",onClick:function(){return x().catch((function(e){console.error(e),b.enqueueSnackbar("Error ending pending redemption: ".concat(e.toString()),{variant:"error"})}))},children:"Process Reward"})})]})}function Rt(){var e=Object(O.b)().registryClient,t=Object(o.b)(),n=Object(d.b)(),r=Object(o.c)((function(e){var t=e.accounts[e.registry.registrar.toString()],n={publicKey:t.rewardEventQ,account:e.accounts[t.rewardEventQ.toString()]};return{accounts:e.accounts,rewardEventQueue:n,member:e.registry.member?{publicKey:e.registry.member,account:e.accounts[e.registry.member.toString()]}:void 0,network:e.common.network}})),c=r.rewardEventQueue,i=Object(a.useMemo)((function(){return Object(T.e)(c.account)}),[c.account]);Object(a.useEffect)((function(){Object(S.a)(w.a.mark((function r(){return w.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,P.d.getMultipleAccounts(e.provider.connection,i.map((function(e){return e.vendor})));case 2:r.sent.forEach((function(r){if(null!==r){var a=e.coder.accounts.decode("RewardVendor",r.account.data);t({type:h.a.AccountAdd,item:{account:{publicKey:r.publicKey,account:a}}})}else n.enqueueSnackbar("RPC node returned invalid vendor account",{variant:"error"})}));case 4:case"end":return r.stop()}}),r)})))()}),[i,t,n,e.coder.accounts,e.provider.connection]);var s=i.map((function(e){return Ot.a.fromMessage(r,e)})).reverse(),u=null;return 0===s.filter((function(e){return null===e})).length&&(u=s.filter((function(e){return e.needsClaim})).sort((function(e,t){return e.cursor<t.cursor?-1:e.cursor>t.cursor?1:0})).shift()),Object(A.jsxs)("div",{style:{width:"100%",marginTop:"24px"},children:[u&&Object(A.jsx)(nt.a,{style:{marginBottom:"24px"},children:Object(A.jsx)(rt.a,{children:Object(A.jsxs)(J.a,{variant:"h6",children:['You were staked during a previous reward. To prove eligibility, click the "Process" button until you\'ve processed ',Object(A.jsx)("b",{children:"all"})," ","eligible rewards. For unlocked rewards, don't forget to select the address you wish to send your stake reward to."]})})}),Object(A.jsxs)("div",{style:{marginBottom:"10px",display:"flex",justifyContent:"space-between"},children:[Object(A.jsx)(J.a,{style:{fontWeight:"bold",fontSize:"20px"},children:"Reward History"}),Object(A.jsxs)("div",{style:{display:"flex"},children:[u&&Object(A.jsx)(At,{rli:u}),localStorage.getItem("private")&&Object(A.jsx)(Kt,{})]})]}),Object(A.jsx)("div",{style:{marginBottom:"16px"},children:Object(A.jsxs)(J.a,{children:["When rewards are dropped, one must prove one was staked during the time of drop. This means sending a transaction to the staking program to ",Object(A.jsx)("b",{children:"process"})," the reward. For ",Object(A.jsx)("b",{children:"unlocked"})," rewards, select the token address to transfer the reward to. For ",Object(A.jsx)("b",{children:"locked"})," rewards, a locked vesting account will be created and realized to the staker upon unstaking. See the Lockup tab."]})}),Object(A.jsx)(yt.a,{children:Object(A.jsx)(Ot.b,{rewards:s})})]})}function Wt(e){var t=e.mint,n=e.decimals,r=e.variant,c=e.onChange,i=e.style,s=e.deposit,u=Object(o.c)((function(e){return t?e.lockup.vestings.map((function(t){return{publicKey:t,account:e.accounts[t.toString()]}})).filter((function(e){return e.account.mint.equals(t)})):[]})),l=Object(a.useState)(""),d=Object(G.a)(l,2),b=d[0],p=d[1];return Object(A.jsx)(te.a,{style:i,variant:r,fullWidth:!0,value:b,onChange:function(e){var t=e.target.value;p(t);var n=new K.PublicKey(t),r=u.filter((function(e){return e.publicKey.equals(n)})).pop();c(n,Et(r,s))},children:0===u.length?Object(A.jsx)(ae.a,{value:"",children:"No vesting accounts found"}):u.map((function(e){return Object(A.jsx)(ae.a,{value:e.publicKey.toString(),children:Object(A.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"},children:[Object(A.jsx)("div",{children:"".concat(e.publicKey.toString())}),Object(A.jsx)("div",{style:{float:"right",color:"#ccc"},children:"".concat(Object(Q.c)(Et(e,s),n))})]})})}))})}function Et(e,t){return t?e.account.outstanding.sub(e.account.whitelistOwned):e.account.whitelistOwned}function It(){var e=Object(a.useState)(ft.Me),t=Object(G.a)(e,2),n=t[0],r=t[1];return Object(A.jsxs)("div",{children:[Object(A.jsx)(Lt,{setTab:r}),Object(A.jsxs)(Re.a,{fixed:!0,maxWidth:"md",style:{flex:1,display:"flex"},children:[n===ft.Me&&Object(A.jsx)(lt,{}),n===ft.Stake&&Object(A.jsx)(xt.a,{}),n===ft.Rewards&&Object(A.jsx)(Rt,{})]})]})}function Lt(e){var t=Object(a.useState)(ft.Me),n=Object(G.a)(t,2),r=n[0],c=n[1],i=Object(o.c)((function(e){return{member:e.registry.member,registrar:e.registry.registrar,registrarAccount:e.accounts[e.registry.registrar.toString()]}})),s=i.member,u=i.registrar,l=i.registrarAccount,b=Object(a.useState)(!1),p=Object(G.a)(b,2),m=p[0],j=p[1],g=Object(a.useState)(!1),f=Object(G.a)(g,2),x=f[0],y=f[1],v=Object(d.b)(),k=v.enqueueSnackbar,C=v.closeSnackbar,M=Object(O.b)(),P=M.wallet,R=M.registryClient,W=Object(o.b)(),E=function(){var e=Object(S.a)(w.a.mark((function e(){var t,n,r,a,c,i,s,o,d,b,p,m,j,g,f,x,y,O,v;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k("Creating stake account",{variant:"info"}),e.next=3,Object(T.b)(u);case 3:return t=e.sent,e.next=6,K.PublicKey.createWithSeed(P.publicKey,t,R.programId);case 6:return n=e.sent,e.next=9,Object(T.c)(R.programId,u,n);case 9:return r=e.sent,a=r.publicKey,c=r.nonce,i=a,e.next=15,Object(T.a)(R.provider,l,i);case 15:return s=e.sent,o=Object(G.a)(s,2),d=o[0],b=o[1],e.next=21,Object(T.a)(R.provider,l,i);case 21:return p=e.sent,m=Object(G.a)(p,2),j=m[0],g=m[1],e.t0=R.transaction,e.t1=c,e.t2={registrar:u,member:n,beneficiary:P.publicKey,memberSigner:i,balances:b,balancesLocked:g,tokenProgram:Je.TokenInstructions.TOKEN_PROGRAM_ID,rent:K.SYSVAR_RENT_PUBKEY},e.t3=K.SystemProgram,e.t4=P.publicKey,e.t5=n,e.t6=P.publicKey,e.t7=t,e.next=35,R.provider.connection.getMinimumBalanceForRentExemption(R.account.member.size);case 35:return e.t8=e.sent,e.t9=R.account.member.size,e.t10=R.programId,e.t11={fromPubkey:e.t4,newAccountPubkey:e.t5,basePubkey:e.t6,seed:e.t7,lamports:e.t8,space:e.t9,programId:e.t10},e.t12=e.t3.createAccountWithSeed.call(e.t3,e.t11),e.t13=[e.t12],e.t14={accounts:e.t2,instructions:e.t13},f=e.t0.createMember.call(e.t0,e.t1,e.t14),x=[d,j,{tx:f,signers:[]}],e.next=47,R.provider.sendAll(x,{commitment:"recent",preflightCommitment:"recent",skipPreflight:!0});case 47:return y=e.sent,console.log("Accounts created with transactions:",y),e.next=51,R.account.member(n);case 51:return O=e.sent,v={publicKey:n,account:O},W({type:h.a.AccountAdd,item:{account:v}}),e.next=56,U(v,W,R.provider.connection);case 56:V(v,R,W),W({type:h.a.RegistrySetMember,item:{member:n}}),C(),k("Stake account created ".concat(n.toString()),{variant:"success"});case 60:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=Pe.a.span(ht||(ht=Object(Me.a)(["\n    :hover {\n      cursor: pointer;\n    }\n  "])));return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{style:{backgroundColor:"#fff",paddingTop:"24px",borderBottom:"solid 1pt #ccc"},children:[Object(A.jsxs)(Re.a,{fixed:!0,maxWidth:"md",style:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[Object(A.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(A.jsx)("div",{children:Object(A.jsx)(J.a,{variant:"h4",style:{marginBottom:"10px"},children:"My Stake"})}),Object(A.jsx)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column"},children:Object(A.jsx)($e,{})})]}),Object(A.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(A.jsx)("div",{children:Object(A.jsx)(J.a,{children:void 0!==s?s.toString():Object(A.jsxs)(A.Fragment,{children:["Account not found. Please"," ",Object(A.jsx)(I,{onClick:function(){E().catch((function(e){console.error(e),k("Error creating stake account: ".concat(e.toString()),{variant:"error"})}))},style:{color:"black",fontWeight:"bold",textDecoration:"underline"},children:"create"})," ","a stake account."]})})}),Object(A.jsx)("div",{children:Object(A.jsxs)("div",{children:[Object(A.jsxs)(Z.a,{disabled:void 0===s,onClick:function(){return j(!0)},variant:"outlined",color:"primary",style:{marginRight:"10px"},children:[Object(A.jsx)(Ee.a,{style:{fontSize:"20px"}}),Object(A.jsx)(J.a,{style:{marginLeft:"5px",marginRight:"5px"},children:"Deposit"})]}),Object(A.jsxs)(Z.a,{disabled:void 0===s,variant:"outlined",color:"primary",onClick:function(){return y(!0)},children:[Object(A.jsx)(Le.a,{style:{fontSize:"20px"}}),Object(A.jsx)(J.a,{style:{marginLeft:"5px",marginRight:"5px"},children:"Withdraw"})]})]})})]})]}),Object(A.jsx)("div",{style:{maxWidth:"960px",marginLeft:"auto",marginRight:"auto",paddingLeft:"24px",paddingRight:"24px",marginTop:"10px"},children:Object(A.jsxs)(Ye.a,{value:r,onChange:function(t,n){c(n),e.setTab(n)},children:[Object(A.jsx)(Fe.a,{value:ft.Me,label:"Me"}),Object(A.jsx)(Fe.a,{value:ft.Stake,label:"Stake"}),Object(A.jsx)(Fe.a,{value:ft.Rewards,label:"Rewards"})]})})]}),void 0!==s&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(Bt,{open:m,onClose:function(){return j(!1)}}),Object(A.jsx)(Dt,{open:x,onClose:function(){return y(!1)}})]})]})}function Bt(e){var t=e.open,n=e.onClose,r=Object(d.b)(),a=r.enqueueSnackbar,c=r.closeSnackbar,i=Object(O.b)(),s=i.registryClient,u=i.lockupClient,l=Object(o.b)(),b=Object(o.c)((function(e){var t=void 0;e.registry.member&&(t=e.accounts[e.registry.member.toString()]);var n=e.accounts[e.registry.registrar.toString()],r={publicKey:e.registry.registrar,account:n};return{registrar:r,memberAccount:t,member:e.registry.member,mintAccount:e.accounts[r.account.mint.toString()],accounts:e.accounts}})),p=b.registrar,m=b.member,j=b.memberAccount,g=b.mintAccount,f=b.accounts;return Object(A.jsx)(Vt,{deposit:!0,title:"Deposit",contextText:"Select the amount to deposit",open:t,onClose:n,onTransfer:function(){var e=Object(S.a)(w.a.mark((function e(t,r,i){var o,d;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(Q.b)(r,g.decimals),a("Depositing ".concat(r," ").concat(Object(Q.d)(p.account.mint)," from ").concat(t.toString()),{variant:"info"}),e.next=4,Object(S.a)(w.a.mark((function e(){var n,r,a,c,d,b,g,x,y;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=45;break}return n=s.coder.instruction.encode("deposit_locked",{amount:o}),r=f[t.toString()],e.next=5,Object(T.c)(s.programId,p.publicKey,m);case 5:return a=e.sent.publicKey,e.next=8,pt(u.programId,t);case 8:return c=e.sent.publicKey,e.next=11,s.state.address();case 11:return e.t0=e.sent,e.t1={pubkey:e.t0,isWritable:!1,isSigner:!1},e.t2={pubkey:p.publicKey,isWritable:!1,isSigner:!1},e.t3={pubkey:m,isWritable:!1,isSigner:!1},e.t4={pubkey:s.provider.wallet.publicKey,isWritable:!1,isSigner:!0},d=[e.t1,e.t2,e.t3,e.t4],e.t5=u.rpc,e.t6=n,e.t7=o,e.next=22,u.state.address();case 22:return e.t8=e.sent,e.t9=s.provider.wallet.publicKey,e.t10=s.programId,e.t11=t,e.t12=r.vault,e.t13=c,e.t14=Je.TokenInstructions.TOKEN_PROGRAM_ID,e.t15=j.balancesLocked.vault,e.t16=a,e.t17={lockup:e.t8,beneficiary:e.t9,whitelistedProgram:e.t10,vesting:e.t11,vault:e.t12,vestingSigner:e.t13,tokenProgram:e.t14,whitelistedProgramVault:e.t15,whitelistedProgramVaultAuthority:e.t16},e.t18={transfer:e.t17},e.t19=d,e.t20={accounts:e.t18,remainingAccounts:e.t19},e.next=37,e.t5.whitelistWithdraw.call(e.t5,e.t6,e.t7,e.t20);case 37:return b=e.sent,e.next=40,u.account.vesting(t);case 40:return g=e.sent,l({type:h.a.LockupUpdateVesting,item:{vesting:{publicKey:t,account:g}}}),e.abrupt("return",b);case 45:return e.next=47,s.rpc.deposit(o,{accounts:{depositor:t,depositorAuthority:s.provider.wallet.publicKey,tokenProgram:Je.TokenInstructions.TOKEN_PROGRAM_ID,vault:j.balances.vault,beneficiary:s.provider.wallet.publicKey,member:m}});case 47:return x=e.sent,e.next=50,Object(M.getTokenAccount)(s.provider,t);case 50:return y=e.sent,l({type:h.a.CommonOwnedTokenAccountsUpdate,item:{account:{publicKey:t,account:y}}}),e.abrupt("return",x);case 53:case"end":return e.stop()}}),e)})))();case 4:d=e.sent,c(),a("Deposit complete",{variant:"success",action:Object(A.jsx)(He.a,{signature:d})}),n();case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()})}function Dt(e){var t=e.open,n=e.onClose,r=Object(O.b)(),a=r.registryClient,c=r.lockupClient,i=Object(d.b)(),s=i.enqueueSnackbar,u=i.closeSnackbar,l=Object(o.b)(),b=Object(o.c)((function(e){var t=void 0;e.registry.member&&(t=e.accounts[e.registry.member.toString()]);var n=e.accounts[e.registry.registrar.toString()];return{registrar:e.registry.registrar,registrarAccount:n,member:e.registry.member,memberAccount:t,mintAccount:e.accounts[n.mint.toString()],accounts:e.accounts}})),p=b.registrar,m=b.registrarAccount,j=b.member,g=b.memberAccount,f=b.mintAccount,x=b.accounts;return Object(A.jsx)(Vt,{title:"Withdraw",contextText:"Select the amount to withdraw",open:t,onClose:n,onTransfer:function(){var e=Object(S.a)(w.a.mark((function e(t,r,i){var o,d;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(Q.b)(r,f.decimals),s("Withdrawing ".concat(r," ").concat(Object(Q.d)(m.mint)," to ").concat(t.toString()),{variant:"info"}),e.next=4,Object(S.a)(w.a.mark((function e(){var n,r,s,u,d,b,m,f,y,O;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.c)(a.programId,p,j);case 2:if(n=e.sent,!i){e.next=47;break}return r=a.coder.instruction.encode("withdraw_locked",{amount:o}),s=x[t.toString()],e.next=8,Object(T.c)(a.programId,p,j);case 8:return u=e.sent.publicKey,e.next=11,pt(c.programId,t);case 11:return d=e.sent.publicKey,e.next=14,a.state.address();case 14:return e.t0=e.sent,e.t1={pubkey:e.t0,isWritable:!1,isSigner:!1},e.t2={pubkey:p,isWritable:!1,isSigner:!1},e.t3={pubkey:j,isWritable:!1,isSigner:!1},e.t4={pubkey:a.provider.wallet.publicKey,isWritable:!1,isSigner:!0},b=[e.t1,e.t2,e.t3,e.t4],e.t5=c.rpc,e.t6=r,e.next=24,c.state.address();case 24:return e.t7=e.sent,e.t8=a.provider.wallet.publicKey,e.t9=a.programId,e.t10=t,e.t11=s.vault,e.t12=d,e.t13=Je.TokenInstructions.TOKEN_PROGRAM_ID,e.t14=g.balancesLocked.vault,e.t15=u,e.t16={lockup:e.t7,beneficiary:e.t8,whitelistedProgram:e.t9,vesting:e.t10,vault:e.t11,vestingSigner:e.t12,tokenProgram:e.t13,whitelistedProgramVault:e.t14,whitelistedProgramVaultAuthority:e.t15},e.t17={transfer:e.t16},e.t18=b,e.t19={accounts:e.t17,remainingAccounts:e.t18},e.next=39,e.t5.whitelistDeposit.call(e.t5,e.t6,e.t19);case 39:return m=e.sent,e.next=42,c.account.vesting(t);case 42:return f=e.sent,l({type:h.a.LockupUpdateVesting,item:{vesting:{publicKey:t,account:f}}}),e.abrupt("return",m);case 47:return e.next=49,a.rpc.withdraw(o,{accounts:{registrar:p,member:j,beneficiary:a.provider.wallet.publicKey,vault:g.balances.vault,memberSigner:n.publicKey,depositor:t,tokenProgram:Je.TokenInstructions.TOKEN_PROGRAM_ID}});case 49:return y=e.sent,e.next=52,Object(M.getTokenAccount)(a.provider,t);case 52:return O=e.sent,l({type:h.a.CommonOwnedTokenAccountsUpdate,item:{account:{publicKey:t,account:O}}}),e.abrupt("return",y);case 55:case"end":return e.stop()}}),e)})))();case 4:d=e.sent,u(),s("Withdraw complete",{variant:"success",action:Object(A.jsx)(He.a,{signature:d})}),n();case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()})}function Vt(e){var t=Object(o.c)((function(e){var t=e.accounts[e.registry.registrar.toString()];return{mint:t?t.mint:void 0,mintAccount:e.accounts[t.mint.toString()]}})),n=t.mint,r=t.mintAccount,c=Object(d.b)().enqueueSnackbar,i=e.open,s=e.onClose,u=e.onTransfer,l=e.title,b=e.contextText,p=e.deposit,m=Object(a.useState)(null),j=Object(G.a)(m,2),g=j[0],h=j[1],f=Object(a.useState)(null),x=Object(G.a)(f,2),y=x[0],O=x[1],v=Object(a.useState)(null),w=Object(G.a)(v,2),S=w[0],k=w[1],K=Object(a.useState)(null),C=Object(G.a)(K,2),M=C[0],P=C[1],T=Object(a.useState)(!1),R=Object(G.a)(T,2),W=R[0],E=R[1],I=(W?!S:!y)||!g||!M||g>M;return Object(A.jsx)("div",{children:Object(A.jsxs)(Be.a,{open:i,TransitionComponent:Ut,keepMounted:!0,onClose:s,fullWidth:!0,children:[Object(A.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(A.jsx)(Ue.a,{children:l}),Object(A.jsxs)("div",{style:{display:"flex",paddingRight:"24px"},children:[Object(A.jsx)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column"},children:Object(A.jsx)(Ae.a,{})}),Object(A.jsx)(Qe.a,{style:{marginLeft:"0px",marginRight:"0px"},control:Object(A.jsx)(Ge.a,{checked:W,onChange:function(){return E(!W)}}),label:""})]})]}),Object(A.jsxs)(Ve.a,{children:[Object(A.jsx)("div",{style:{display:"flex"},children:Object(A.jsxs)("div",{style:{flex:1},children:[Object(A.jsx)(Ne.a,{style:{width:"100%"},id:"outlined-number",label:"Amount",type:"number",InputLabelProps:{shrink:!0},variant:"outlined",onChange:function(e){return h(parseFloat(e.target.value))},InputProps:{inputProps:{min:0,max:null!==M&&void 0!==M?M:0}}}),Object(A.jsx)(ze.a,{children:b})]})}),Object(A.jsx)(_e.a,{fullWidth:!0,children:W?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(Wt,{variant:"outlined",mint:n,decimals:r.decimals,deposit:p,onChange:function(e,t){k(e),P(t.toNumber())}}),Object(A.jsxs)(ze.a,{children:["Vesting account to transfer to/from your ",Object(A.jsx)("b",{children:"locked"})," ","balances"]})]}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(Xe.a,{variant:"outlined",decimals:r.decimals,mint:n,onChange:function(e,t){O(e),P(Math.pow(2,53))}}),Object(A.jsx)(ze.a,{children:"Token account to transfer to/from"})]})})]}),Object(A.jsxs)(De.a,{children:[Object(A.jsx)(Z.a,{onClick:s,color:"primary",children:"Cancel"}),Object(A.jsx)(Z.a,{onClick:function(){u(W?S:y,g,W).catch((function(e){console.error(e),c("Error transferring funds: ".concat(e.toString()),{variant:"error"})}))},color:"primary",disabled:I,children:l})]})]})})}!function(e){e[e.Unlocked=0]="Unlocked",e[e.Locked=1]="Locked"}(gt||(gt={})),function(e){e[e.Me=0]="Me",e[e.Stake=1]="Stake",e[e.Rewards=2]="Rewards",e[e.Lockup=3]="Lockup"}(ft||(ft={}));var Ut=c.a.forwardRef((function(e,t){return Object(A.jsx)(qe.a,Object(g.a)({direction:"up",ref:t},e))}));function Nt(){return Object(A.jsx)(It,{})}var _t=n(92),qt=n(237);function zt(){var e=Object(a.useState)(!1),t=Object(G.a)(e,2),n=t[0],r=t[1];return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{onClick:function(){return r(!0)},children:Object(A.jsx)(Z.a,{variant:"contained",color:"secondary",children:"New"})}),Object(A.jsx)(Yt,{open:n,onClose:function(){return r(!1)}})]})}function Yt(e){var t=e.open,n=e.onClose,r=Object(o.c)((function(e){return{network:e.common.network,accounts:e.accounts}})),c=r.network,i=r.accounts,s=(new Date).toString(),u=new Date(s).getTime()/1e3,l="2027-01-01T12:00",b=new Date(l).getTime()/1e3,p=Object(a.useState)(""),m=Object(G.a)(p,2),j=m[0],g=m[1],f=function(){try{return new K.PublicKey(j),!0}catch(e){return!1}}(),x=!f&&""!==j,y=Object(a.useState)(null),v=Object(G.a)(y,2),k=v[0],C=v[1],P=Object(a.useState)(u),T=Object(G.a)(P,2),R=T[0],W=T[1],E=Object(a.useState)(b),I=Object(G.a)(E,2),L=I[0],B=I[1],D=Object(a.useState)(7),V=Object(G.a)(D,2),U=V[0],N=V[1],_=Object(a.useState)(null),q=Object(G.a)(_,2),z=q[0],Y=q[1],F=Object(O.b)().lockupClient,X=Object(a.useState)(!1),H=Object(G.a)(X,2),$=H[0],ee=H[1],ne=Object(a.useState)(null),re=Object(G.a)(ne,2),ce=re[0],ie=re[1],se=Object(d.b)().enqueueSnackbar,oe=Object(o.b)(),ue=null!==ce&&null!==k&&f&&null!==z,le=function(){var e=Object(S.a)(w.a.mark((function e(){var t,r,a,c,s,o,u,l,d;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ee(!0),e.prev=1,t=new K.PublicKey(j),e.next=5,F.provider.connection.getAccountInfo(t);case 5:if(null!==(r=e.sent)){e.next=10;break}return se("Unable to validate given beneficiary.",{variant:"error"}),ee(!1),e.abrupt("return");case 10:if(r.owner.equals(K.SystemProgram.programId)){e.next=14;break}return se("The beneficiary must be owned by the System Program.",{variant:"error"}),ee(!1),e.abrupt("return");case 14:return se("Creating vesting acount...",{variant:"info"}),a=i[ce.toString()],c=a?Object(Q.b)(z,a.decimals):new St.a(z),s=new K.Account,o=new K.Account,e.next=21,pt(F.programId,s.publicKey);case 21:return u=e.sent,e.t0=F.rpc,e.t1=t,e.t2=c,e.t3=u.nonce,e.t4=new St.a(R),e.t5=new St.a(L),e.t6=new St.a(U),e.t7={vesting:s.publicKey,vault:o.publicKey,depositor:k,depositorAuthority:F.provider.wallet.publicKey,tokenProgram:Je.TokenInstructions.TOKEN_PROGRAM_ID,rent:K.SYSVAR_RENT_PUBKEY,clock:K.SYSVAR_CLOCK_PUBKEY},e.t8=[s,o],e.next=33,F.account.vesting.createInstruction(s);case 33:return e.t10=e.sent,e.t9=[e.t10],e.t11=vt.a,e.next=38,Object(M.createTokenAccountInstrs)(F.provider,o.publicKey,ce,u.publicKey);case 38:return e.t12=e.sent,e.t13=(0,e.t11)(e.t12),e.t14=e.t9.concat.call(e.t9,e.t13),e.t15={accounts:e.t7,signers:e.t8,instructions:e.t14},e.next=44,e.t0.createVesting.call(e.t0,e.t1,e.t2,e.t3,e.t4,e.t5,e.t6,null,e.t15);case 44:if(l=e.sent,!t.equals(F.provider.wallet.publicKey)){e.next=50;break}return e.next=48,F.account.vesting(s.publicKey);case 48:d=e.sent,oe({type:h.a.LockupCreateVesting,item:{vesting:{publicKey:s.publicKey,account:d}}});case 50:se("Vesting account created",{variant:"success",action:Object(A.jsx)(He.a,{signature:l})}),n(),e.next=57;break;case 54:e.prev=54,e.t16=e.catch(1),se("Error creating vesting account: ".concat(e.t16.toString()),{variant:"error"});case 57:ee(!1);case 58:case"end":return e.stop()}}),e,null,[[1,54]])})));return function(){return e.apply(this,arguments)}}();return Object(A.jsxs)(Be.a,{open:t,onClose:n,fullWidth:!0,maxWidth:"md",children:[Object(A.jsx)(Ue.a,{children:Object(A.jsx)(J.a,{variant:"h4",component:"h2",children:"New Vesting Account"})}),Object(A.jsx)(Ve.a,{children:Object(A.jsxs)("div",{children:[$&&Object(A.jsx)("div",{style:{width:"40px",marginLeft:"auto",marginRight:"auto",marginBottom:"24px"},children:Object(A.jsx)(me.a,{style:{marginLeft:"auto",marginRight:"auto"}})}),Object(A.jsxs)("div",{style:{display:"flex",width:"100%"},children:[Object(A.jsx)("div",{children:Object(A.jsxs)(_e.a,{variant:"outlined",style:{width:"200px"},children:[Object(A.jsx)(kt.a,{children:"Mint"}),Object(A.jsx)(te.a,{value:ce?ce.toString():"",onChange:function(e){return ie(new K.PublicKey(e.target.value))},children:Object.keys(c.mints).map((function(e){return Object(A.jsx)(ae.a,{value:c.mints[e].toString(),children:e.toUpperCase()})}))})]})}),!1]}),Object(A.jsx)("div",{children:Object(A.jsx)("div",{style:{display:"flex",width:"100%"},children:Object(A.jsx)("div",{style:{flex:1},children:Object(A.jsxs)(_e.a,{fullWidth:!0,children:[Object(A.jsx)(kt.a,{children:"From"}),Object(A.jsx)(Xe.a,{mint:ce,onChange:function(e){return C(e)}}),Object(A.jsx)(ze.a,{children:"Token account to send from"})]})})})}),Object(A.jsxs)("div",{style:{marginTop:"24px"},children:[Object(A.jsx)(Ne.a,{fullWidth:!0,error:x,helperText:x&&"Invalid beneficiary",label:"Beneficiary",value:j,onChange:function(e){return g(e.target.value)}}),Object(A.jsx)(ze.a,{children:"Owner of the new vesting account"})]}),Object(A.jsxs)("div",{style:{marginTop:"24px"},children:[!1,Object(A.jsx)(Ne.a,{fullWidth:!0,label:"Amount",type:"number",value:z,InputProps:{inputProps:{min:0}},onChange:function(e){return Y(parseFloat(e.target.value))}}),Object(A.jsx)(ze.a,{children:"Amount to deposit into the vesting account"})]}),Object(A.jsxs)("div",{style:{marginTop:"24px",display:"flex"},children:[Object(A.jsxs)("div",{style:{flex:1,marginRight:"10px"},children:[Object(A.jsx)(Ne.a,{fullWidth:!0,label:"Start date",type:"datetime-local",defaultValue:s,InputLabelProps:{shrink:!0},onChange:function(e){var t=new Date(e.target.value);W(t.getTime()/1e3)}}),Object(A.jsx)(ze.a,{children:"Date when vesting begins"})]}),Object(A.jsx)("div",{children:Object(A.jsx)(Ne.a,{disabled:!0,fullWidth:!0,label:"Unix Timestamp",value:R})})]}),Object(A.jsxs)("div",{style:{marginTop:"24px",display:"flex"},children:[Object(A.jsxs)("div",{style:{flex:1,marginRight:"10px"},children:[Object(A.jsx)(Ne.a,{fullWidth:!0,label:"End date",type:"datetime-local",defaultValue:l,InputLabelProps:{shrink:!0},onChange:function(e){var t=new Date(e.target.value);B(t.getTime()/1e3)}}),Object(A.jsx)(ze.a,{children:"Date when all tokens are vested"})]}),Object(A.jsx)("div",{children:Object(A.jsx)(Ne.a,{disabled:!0,fullWidth:!0,label:"Unix Timestamp",value:L})})]}),Object(A.jsx)("div",{style:{marginTop:"24px"},children:Object(A.jsxs)(_e.a,{fullWidth:!0,children:[Object(A.jsx)(Ne.a,{id:"outlined-number",label:"Period Count",type:"number",InputLabelProps:{shrink:!0},variant:"outlined",value:U,onChange:function(e){return N(parseInt(e.target.value))},InputProps:{inputProps:{min:1}}}),Object(A.jsx)(ze.a,{children:"Number of vesting periods"})]})})]})}),Object(A.jsxs)(De.a,{children:[Object(A.jsx)(Z.a,{onClick:n,children:"Cancel"}),Object(A.jsx)(Z.a,{variant:"contained",type:"submit",color:"primary",disabled:!ue||$,onClick:function(){return le()},children:"Create"})]})]})}var Ft=n(301),Qt=n.n(Ft),Gt=n(186),Jt=n(155),Xt=n(76),Ht=n(130);function Zt(e){var t=e.vesting,n=e.network,r=Object(O.b)(),c=r.lockupClient,i=r.registryClient,s=Object(d.b)().enqueueSnackbar,u=Object(Q.e)(),l=Object(o.b)(),b=Object(o.c)((function(e){return{accounts:e.accounts,member:e.registry.member?{publicKey:e.registry.member,account:e.accounts[e.registry.member.toString()]}:void 0,mintAccount:e.accounts[t.account.mint.toString()]}})),p=b.accounts,m=b.member,j=b.mintAccount,g=Object(a.useState)(!1),f=Object(G.a)(g,2),x=f[0],y=f[1],v=Object(a.useState)(!1),k=Object(G.a)(v,2),C=k[0],M=k[1],P=p[t.account.mint.toString()],T=P?function(e){return Object(Q.c)(e,P.decimals)}:function(e){return e.toString()},R="".concat(T(t.account.outstanding)," ").concat(Object(Q.d)(t.account.mint)),W=t.account.startTs,E=t.account.endTs,I=E.sub(W).mod(t.account.periodCount),L=W.sub(I),B=E.sub(L).div(t.account.periodCount),D=Object(vt.a)(Array(t.account.periodCount.toNumber()+1)).map((function(e,t){return $t(new Date(1e3*(L.toNumber()+t*B.toNumber())))}));D[0]=$t(new Date(1e3*W.toNumber()));var V=t.account.startBalance.mod(t.account.periodCount),U=t.account.startBalance.sub(V).div(t.account.periodCount).toNumber(),N=Object(vt.a)(Array(D.length)).map((function(){return 0}));N[1]=U+V.toNumber();for(var _=2;_<N.length;_+=1)N[_]=N[_-1]+U;var q=$t(new Date(1e3*t.account.startTs.toNumber())),z=$t(new Date(1e3*t.account.endTs.toNumber())),Y="?cluster=".concat(n.explorerClusterSuffix),F=Object(a.useState)(null),X=Object(G.a)(F,2),H=X[0],$=X[1],ee=Object(a.useState)(null),te=Object(G.a)(ee,2),ne=te[0],ae=te[1];Object(a.useEffect)((function(){(function(e,t){return jt.apply(this,arguments)})(c,t.publicKey).then((function(e){$(e)})).catch((function(e){console.error(e),s("Error fetching available for withdrawal: ".concat(e.toString()),{variant:"error"})}))}),[c,t,s]);var ce=Object(d.b)(),ie=null!==ne&&null!==H&&H.gtn(0),se=function(){var e=Object(S.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(He.b)(ce,"Withdrawing locked tokens","Tokens unlocked",Object(S.a)(w.a.mark((function e(){var n,r,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){if(t.account.realizor){if(!m)throw new Error("Member account not found");return[{pubkey:i.programId,isSigner:!1,isWritable:!1},{pubkey:m.publicKey,isSigner:!1,isWritable:!1},{pubkey:m.account.balances.spt,isSigner:!1,isWritable:!1},{pubkey:m.account.balancesLocked.spt,isSigner:!1,isWritable:!1}]}}(),e.t0=c.rpc,e.t1=H,e.t2=t.publicKey,e.t3=c.provider.wallet.publicKey,e.t4=ne,e.t5=t.account.vault,e.next=9,pt(c.programId,t.publicKey);case 9:return e.t6=e.sent.publicKey,e.t7=Je.TokenInstructions.TOKEN_PROGRAM_ID,e.t8=K.SYSVAR_CLOCK_PUBKEY,e.t9={vesting:e.t2,beneficiary:e.t3,token:e.t4,vault:e.t5,vestingSigner:e.t6,tokenProgram:e.t7,clock:e.t8},e.t10=n,e.t11={accounts:e.t9,remainingAccounts:e.t10},e.next=17,e.t0.withdraw.call(e.t0,e.t1,e.t11);case 17:return r=e.sent,e.next=20,c.account.vesting(t.publicKey);case 20:return a=e.sent,l({type:h.a.LockupUpdateVesting,item:{vesting:{publicKey:t.publicKey,account:a}}}),e.abrupt("return",r);case 23:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=[{field:"Projected unlock",value:null===H?null:T(H)},{field:"Locked outstanding",value:T(t.account.outstanding)},{field:"Current balance",value:T(t.account.outstanding.sub(t.account.whitelistOwned))},{field:"Initial lockup",value:T(t.account.startBalance)},{field:"Amount unlocked",value:T(t.account.startBalance.sub(t.account.outstanding))},{field:"Whitelist owned",value:T(t.account.whitelistOwned)},{field:"Period count",value:t.account.periodCount.toString()},{field:"Start timestamp",value:"".concat(new Date(1e3*t.account.startTs.toNumber()).toLocaleString()," (").concat(t.account.startTs.toString(),")")},{field:"End timestamp",value:"".concat(new Date(1e3*t.account.endTs.toNumber()).toLocaleString()," (").concat(t.account.endTs.toString(),")")},{field:"Vault",value:t.account.vault.toString()},{field:"Realizer program",value:t.account.realizor?t.account.realizor.program.toString():"None"},{field:"Realizer metadata",value:t.account.realizor?t.account.realizor.metadata.toString():"None"},{field:"Grantor",value:t.account.grantor.toString()}];return Object(A.jsx)(nt.a,{onMouseOver:function(){return M(!0)},onMouseOut:function(){return M(!1)},style:{marginTop:"24px",cursor:C?"pointer":"default"},children:Object(A.jsxs)(rt.a,{style:{paddingBottom:"16px"},children:[Object(A.jsx)(_t.a,{onClick:function(){return y(!x)},children:Object(A.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"},children:[Object(A.jsx)(Jt.a,{children:tt(u.get(t.account.mint.toString()),{marginRight:"16px",width:"56px"})}),Object(A.jsx)(Xt.a,{primary:Object(A.jsx)(re.a,{href:"https://explorer.solana.com/account/".concat(t.publicKey.toBase58())+Y,target:"_blank",rel:"noopener",children:t.publicKey.toString()}),secondary:"".concat(q,", ").concat(z," | ").concat(t.account.periodCount.toNumber()," periods")}),Object(A.jsx)("div",{style:{marginTop:"6px",color:"rgba(0, 0, 0, 0.54)",display:"flex",justifyContent:"space-between",flexDirection:"column",maxWidth:"200px"},children:Object(A.jsx)(J.a,{style:{overflow:"hidden",whiteSpace:"nowrap"},variant:"body1",children:R})})]})}),Object(A.jsxs)(Ht.a,{in:x,timeout:"auto",unmountOnExit:!0,children:[Object(A.jsx)(J.a,{}),D.length<=15?Object(A.jsx)(Qt.a,{data:{labels:D,series:[N]},options:{axisY:{type:Gt.FixedScaleAxis,low:0,high:N[N.length-1],ticks:N},lineSmooth:Gt.Interpolation.step(),height:400},type:"Line"}):Object(A.jsx)("div",{style:{textAlign:"center",fontWeight:"bold"},children:"A graph isn't available for this account."}),Object(A.jsxs)("div",{children:[!1,Object(A.jsx)(at.a,{children:Object(A.jsx)(ct.a,{children:oe.map((function(e){return Object(A.jsxs)(ut.a,{children:[Object(A.jsx)(it.a,{children:e.field}),Object(A.jsx)(it.a,{align:"right",children:null===e.value?Object(A.jsx)(me.a,{style:{height:"20px",width:"20px",padding:0}}):e.value})]})}))})}),Object(A.jsxs)("div",{style:{display:"flex",marginTop:"15px"},children:[Object(A.jsx)(Xe.a,{decimals:j?j.decimals:void 0,mint:t.account.mint,onChange:function(e){return ae(e)}}),Object(A.jsx)("div",{style:{marginLeft:"20px",width:"191px"},children:Object(A.jsx)(Z.a,{style:{fontSize:"12px"},color:"primary",disabled:!ie,variant:"contained",onClick:function(){return se().catch((function(e){var t=e.toString();t&&2===t.split("custom program error: 0x78").length&&(t="Unrealized rewards. Please unstake"),s("Error withdrawing from vesting account: ".concat(e.toString()),{variant:"error"})}))},children:"Unlock tokens"})})]})]})]})]})},t.publicKey.toString())}function $t(e){return"".concat(e.getMonth()+1,"/").concat(e.getDate(),"/").concat(e.getFullYear())}function en(){var e=Object(O.b)().wallet,t=Object(o.c)((function(e){return{vestingAccounts:e.lockup.vestings.map((function(t){return{publicKey:t,account:e.accounts[t.toString()]}})),network:e.common.network}})),n=t.vestingAccounts,r=t.network;return Object(A.jsx)(Re.a,{fixed:!0,maxWidth:"md",children:Object(A.jsx)("div",{style:{width:"100%"},children:Object(A.jsxs)("div",{style:{marginTop:"24px",marginBottom:"24px"},children:[Object(A.jsx)("link",{rel:"stylesheet",href:"//cdn.jsdelivr.net/chartist.js/latest/chartist.min.css"}),Object(A.jsx)("script",{src:"//cdn.jsdelivr.net/chartist.js/latest/chartist.min.js"}),e.publicKey&&Object(A.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"24px"},children:[Object(A.jsx)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column"},children:Object(A.jsx)(J.a,{style:{fontSize:"20px",fontWeight:"bold"},children:"Projected Unlocks"})}),Object(A.jsx)("div",{children:Object(A.jsx)(zt,{})})]}),Object(A.jsxs)(J.a,{color:"textSecondary",children:["In addition to a vesting schedule, locked token accounts are subject to an application dependent",Object(A.jsx)("b",{children:" realization condition"}),", determining if and when locked tokens are given to a user. For example, in the case of locked staking rewards, locked tokens become realized in the event of unstaking. If one never unstakes, one never receives locked token rewards."]}),Object(A.jsxs)(qt.a,{disablePadding:!0,style:{marginLeft:"auto",marginRight:"auto"},children:[n.map((function(e){return Object(A.jsx)(Zt,{network:r,vesting:e})})),0===n.length&&Object(A.jsx)(nt.a,{style:{marginTop:"24px"},children:Object(A.jsx)(rt.a,{children:Object(A.jsx)(_t.a,{children:Object(A.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"},children:Object(A.jsx)(J.a,{color:"textSecondary",variant:"h6",children:"No vesting accounts found"})})})})})]})]})})})}function tn(){return Object(A.jsx)(en,{})}var nn=n(230);function rn(){return Object(A.jsx)(nn.a,{})}function an(){var e=Object(l.e)(),t=Object(l.f)().pathname.split("/");if(3!==t.length)return e.push("/multisig"),Object(A.jsx)(A.Fragment,{});var n=new K.PublicKey(t[2]);return Object(A.jsx)(nn.a,{multisig:n})}var cn=function(){var e=Object(m.a)({palette:{background:{default:"rgb(255,255,255)"}},typography:{fontFamily:["Source Sans Pro","sans-serif"].join(",")},overrides:{}});return Object(A.jsx)(o.a,{store:y,children:Object(A.jsxs)(b.a,{theme:e,children:[Object(A.jsx)(p.a,{}),Object(A.jsx)(d.a,{maxSnack:5,autoHideDuration:8e3,children:Object(A.jsx)(Q.a,{children:Object(A.jsx)(O.a,{children:Object(A.jsx)(R,{children:Object(A.jsx)(u.a,{basename:"/",children:Object(A.jsxs)(we,{children:[Object(A.jsx)(l.a,{exact:!0,path:"/",component:Nt}),Object(A.jsx)(l.a,{exact:!0,path:"/stake",component:Nt}),Object(A.jsx)(l.a,{exact:!0,path:"/lockup",component:tn}),Object(A.jsx)(l.a,{exact:!0,path:"/multisig",component:rn}),Object(A.jsx)(l.a,{exact:!0,path:"/multisig/:address",component:an})]})})})})})})]})})},sn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,498)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};s.a.render(Object(A.jsx)(c.a.StrictMode,{children:Object(A.jsx)(cn,{})}),document.getElementById("root")),sn()},49:function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"f",(function(){return j})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return x})),n.d(t,"e",(function(){return O}));var r=n(22),a=n(2),c=n.n(a),i=n(12),s=n(5),o=n(4),u=n(41),l=n(42);function d(e,t){return b.apply(this,arguments)}function b(){return(b=Object(s.a)(c.a.mark((function e(t,n){var r,a,s,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.e.PublicKey.findProgramAddress([n.toBuffer()],t);case 2:return r=e.sent,a=Object(i.a)(r,2),s=a[0],o=a[1],e.abrupt("return",{publicKey:s,nonce:o});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,t,n){return m.apply(this,arguments)}function m(){return(m=Object(s.a)(c.a.mark((function e(t,n,r){var a,s,o,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.e.PublicKey.findProgramAddress([n.toBuffer(),r.toBuffer()],t);case 2:return a=e.sent,s=Object(i.a)(a,2),o=s[0],u=s[1],e.abrupt("return",{publicKey:o,nonce:u});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,t,n){return g.apply(this,arguments)}function g(){return(g=Object(s.a)(c.a.mark((function e(t,n,r){var a,s,o,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.e.PublicKey.findProgramAddress([n.toBuffer(),r.toBuffer()],t);case 2:return a=e.sent,s=Object(i.a)(a,2),o=s[0],u=s[1],e.abrupt("return",{publicKey:o,nonce:u});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return f.apply(this,arguments)}function f(){return(f=Object(s.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.d.sha256("".concat(t.toString(),":Member"));case 2:return n=e.sent,e.abrupt("return",n.slice(0,32));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t,n){return y.apply(this,arguments)}function y(){return(y=Object(s.a)(c.a.mark((function e(t,n,a){var i,s,l,d,b,p,m,j,g,h,f;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new o.Account,s=new o.Account,l=new o.Account,d=new o.Account,e.next=6,t.connection.getMinimumBalanceForRentExemption(165);case 6:return b=e.sent,e.next=9,u.createTokenAccountInstrs(t,i.publicKey,n.poolMint,a,b);case 9:return p=e.sent,e.next=12,u.createTokenAccountInstrs(t,s.publicKey,n.mint,a,b);case 12:return m=e.sent,e.next=15,u.createTokenAccountInstrs(t,l.publicKey,n.mint,a,b);case 15:return j=e.sent,e.next=18,u.createTokenAccountInstrs(t,d.publicKey,n.mint,a,b);case 18:return g=e.sent,(h=new o.Transaction).add.apply(h,Object(r.a)(p).concat(Object(r.a)(m),Object(r.a)(j),Object(r.a)(g))),f={tx:h,signers:[i,s,l,d]},e.abrupt("return",[f,{spt:i.publicKey,vault:s.publicKey,vaultStake:l.publicKey,vaultPw:d.publicKey}]);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){for(var t=[],n=e.tail;n<e.head;){var r=n%e.events.length;t.push(e.events[r]),n+=1}return t}},73:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(12),a=n(0),c=n(20),i=n(33),s=n.n(i),o=n(321),u=n(317),l=n(4),d=n(28),b=n(1);function p(e){var t=e.mint,n=e.decimals,i=e.variant,p=e.onChange,m=e.style,j=Object(c.c)((function(e){return t?(console.log("state",e.common),e.common.ownedTokenAccounts.filter((function(e){return e.account.mint.toString()===t.toString()}))):[]})),g=Object(a.useState)(""),h=Object(r.a)(g,2),f=h[0],x=h[1];return Object(b.jsx)(o.a,{style:m,variant:i,fullWidth:!0,value:f,onChange:function(e){var t=e.target.value;x(t);var n=new l.PublicKey(t),r=j.filter((function(e){return e.publicKey.equals(n)})).pop();p(n,new s.a(r.account.amount))},children:0===j.length?Object(b.jsx)(u.a,{value:"",children:"No token accounts found"}):j.map((function(e){return Object(b.jsx)(u.a,{value:e.publicKey.toString(),children:Object(b.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",overflow:"hidden"},children:[Object(b.jsx)("div",{children:"".concat(e.publicKey)}),n&&Object(b.jsx)("div",{style:{float:"right",color:"#ccc"},children:"".concat(Object(d.c)(e.account.amount,null!==n&&void 0!==n?n:0))})]})})}))})}},78:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(4),a={mainnet:{label:"Mainnet Beta",url:"https://api.mainnet-beta.solana.com",explorerClusterSuffix:"",srmFaucet:null,msrmFaucet:null,registryProgramId:new r.PublicKey("GrAkKfEpTKQuVHG2Y97Y2FF4i7y7Q5AHLK94JBy7Y5yv"),lockupProgramId:new r.PublicKey("6ebQNeTPZ1j7k3TtkCCtEPRvG7GQsucQrZ7sSEDQi9Ks"),multisigProgramId:new r.PublicKey("3S6ALMCGVib4X3vVR3CLpm2K6Ng5qbWFYMTo5jfxWcEq"),registrars:{srm:new r.PublicKey("5vJRzKtcp4fJxqmR7qzajkaKSiAb6aT9grRsaZKXU222"),msrm:new r.PublicKey("7uURiX2DwCpRuMFebKSkFtX9v5GK1Cd8nWLL8tyoyxZY"),fida:new r.PublicKey("5C2ayX1E2SJ5kKEmDCA9ue9eeo3EPR34QFrhyzbbs3qh"),dxl:new r.PublicKey("BQtp3xGPTFXJSt1MVKxtVSefRcBWmUkzTNM3g1t9efcK"),maps:new r.PublicKey("9tzkorTXKbw73hokMsq34R6ADd13eJF9X4udXQLiGAKc"),oxy:new r.PublicKey("DsWhta1RWA9NYEamaeYsGHpfLRX91bA4bWGnaivtFju2")},mints:{srm:new r.PublicKey("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),msrm:new r.PublicKey("MSRMcoVyrFxnSgo5uXwone5SKcGhT1KEJMFEkMEWf9L"),fida:new r.PublicKey("EchesyfXePKdLtoiZSL8pBe8Myagyy8ZRqsACNCFGnvp"),dxl:new r.PublicKey("GsNzxJfFn6zQdJGeYsupJWzUAm57Ba7335mfhWvFiE9Z"),maps:new r.PublicKey("MAPS41MDahZ9QdKXhVa4dWB9RuyfV4XqhyAZ8XcYepb"),oxy:new r.PublicKey("z3dn17yLaGMKffVogeFHQ9zWVcXgqgf3PQnDsNs2g6M")}},devnet:{label:"Devnet",url:"https://devnet.solana.com",explorerClusterSuffix:"devnet",srmFaucet:null,msrmFaucet:null,multisigProgramId:new r.PublicKey("9z7Pq56To96qbVLzuBcf47Lc7u8uUWZh6k5rhcaTsDjz"),registryProgramId:new r.PublicKey("65aMavjMw3EhmWKVCkGn1Uj2SqZ3XY4coJhYM1BVJTHw"),lockupProgramId:new r.PublicKey("bRGMWZz4mzJ8NG8csn5QNTbJDv2973QSvppbfcAboje"),registrars:{token1:new r.PublicKey("EqbwcuvPWLZ5fav58HrieHmJEqTm6RPu5bmn5bBQJ3mu"),token2:new r.PublicKey("2rDWuS6yVFQ3jYx1nQq7gs3HgzWLJcUwm9sTUBWuXuyK")},mints:{token1:new r.PublicKey("Ep6ASaHQ4gKiN3gWNRKYttZEQ7b82seMk9HWc5JNBJZP"),token2:new r.PublicKey("5vWxJthWbCFuNSZj1qcP9WoU8E6UG3DUfeAoPvYoN8PQ")}},localhost:{label:"Localhost",url:"http://localhost:8899",explorerClusterSuffix:"localhost",srmFaucet:null,msrmFaucet:null,multisigProgramId:new r.PublicKey("9z7Pq56To96qbVLzuBcf47Lc7u8uUWZh6k5rhcaTsDjz"),registryProgramId:new r.PublicKey("A3ukM9swAsTqVC6g5Zy9FsWXofe5f2JhXMEfzenNf9Q7"),lockupProgramId:new r.PublicKey("2z65xTKJDM4iJBVz5aXtNrWfQvKGgNJvnqY1GL2mkimu"),registrars:{token1:new r.PublicKey("Fwi5pie2VgWTDUSRNkca1HdFCke5r3v3mY83JbxtC3CJ"),token2:new r.PublicKey("9kCGBWgHzGGChvmAsmu5jrXwEShZfLxKRTmKdxEpFUBr")},mints:{token1:new r.PublicKey("2aE1pietadYMeDtdqKayS4SVo9W4xtC3U7SN4iGWCVcX"),token2:new r.PublicKey("Cgan7PWyBH6Z7JNA6f9kDYgwBMZBxRexpdd29PJgnqah")}}}}},[[443,1,2]]]);
//# sourceMappingURL=main.07a08203.chunk.js.map